<?xml version="1.0" encoding="UTF-8"?>
<Worksheet><Version major="6" minor="1"/><View-Properties><Zoom percentage="100"/></View-Properties><Styles><Layout alignment="left" bullet="none" firstindent="0.0" leftmargin="0.0" linebreak="space" linespacing="0.0" name="Normal" rightmargin="0.0" spaceabove="0.0" spacebelow="0.0"/><Layout alignment="centred" bullet="none" linespacing="0.5" name="Maple Output"/><Font background="[0,0,0]" bold="true" executable="true" family="Monospaced" foreground="[255,0,0]" name="Maple Input" opaque="false" size="12"/><Font background="[0,0,0]" family="Monospaced" foreground="[0,0,255]" name="Line Printed Output" opaque="false" readonly="true" size="12"/><Font background="[0,0,0]" family="Lucida Bright" foreground="[0,0,255]" name="2D Output" opaque="false" readonly="true" size="12"/></Styles><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">with(LinearAlgebra):with(CodeGeneration, C):with(VectorCalculus,Jacobian):</Text-field></Input></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">#
# Basic T3D with euler representation
#</Text-field></Input></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">eulerToR := proc (X::Vector(3))::Matrix(3,3);
MatrixMatrixMultiply(
Matrix([[cos(X[1]), -sin(X[1]), 0.0],[sin(X[1]), cos(X[1]), 0.0],[0.0, 0.0, 1.0]]),
MatrixMatrixMultiply(
Matrix([[cos(X[2]), 0.0, sin(X[2])], [0.0, 1.0, 0.0],[-sin(X[2]), 0.0, cos(X[2])]]),
Matrix([[1.0, 0.0, 0.0],[0.0, cos(X[3]), -sin(X[3])],[0.0, sin(X[3]), cos(X[3])]])));
end proc;</Text-field></Input><Output><Text-field layout="Maple Output" style="2D Output"><Equation>NiM+SSlldWxlclRvUkc2ImYrNiMnSSJYR0YlLUknVmVjdG9yR0YlNiMiIiRGJUYlRiUtX0kuTGluZWFyQWxnZWJyYUc2JEkqcHJvdGVjdGVkR0YySShfc3lzbGliR0YlSTVNYXRyaXhNYXRyaXhNdWx0aXBseUdGJTYkLUknTWF0cml4R0YlNiM3JTclLUkkY29zR0YlNiMmOSQ2IyIiIiwkLUkkc2luR0YlRj0hIiIkIiIhRkc3JUZDRjtGRjclRkZGRiQiIzVGRS1GLzYkLUY3NiM3JTclLUY8NiMmRj82IyIiI0ZGLUZERlM3JUZGRkpGRjclLCRGV0ZFRkZGUi1GNzYjNyU3JUZKRkZGRjclRkYtRjw2IyZGP0YsLCQtRkRGW29GRTclRkZGXm9Gam5GJUYlRiUtRjc2JEYtRi0=</Equation></Text-field></Output></Group><Group><Input><Text-field prompt="&gt; " style="Maple Input">eulerToM := proc (X::Vector(6))::Matrix(4,4);
Matrix([ [ Matrix( [ eulerToR(X[4..6]), X[1..3]] ) ] , [Matrix([0.0, 0.0, 0.0, 1.0])] ]);
end proc;</Text-field></Input><Input><Text-field prompt="&gt; " style="Maple Input"/></Input><Output><Text-field layout="Maple Output" style="2D Output"><Equation>NiM+SSlldWxlclRvTUc2ImYrNiMnSSJYR0YlLUknVmVjdG9yR0YlNiMiIidGJUYlRiUtSSdNYXRyaXhHRiU2IzckNyMtRi82IzckLUkpZXVsZXJUb1JHRiU2IyY5JDYjOyIiJUYtJkY6NiM7IiIiIiIkNyMtRi82IzcmJCIiIUZIRkdGRyQiIzUhIiJGJUYlRiUtRi82JEY9Rj0=</Equation></Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">eulerToM(Vector([x,y,z,yaw,pitch,roll]));</Text-field></Input><Output><Text-field layout="Maple Output" style="2D Output"><Equation style="2D Output">NiMtSSdSVEFCTEVHNiI2JSIqOz1IZSItSSdNQVRSSVhHRiU2IzcmNyYsJComLUkkY29zRzYkSSpwcm90ZWN0ZWRHRjJJKF9zeXNsaWJHRiU2I0kkeWF3R0YlIiIiLUYwNiNJJnBpdGNoR0YlRjYkIiM1ISIiLCYqKEYvRjYtSSRzaW5HRjFGOEY2LUZANiNJJXJvbGxHRiVGNkY2KiYtRkBGNEY2LUYwRkJGNiQhIzVGPCwmKihGL0Y2Rj9GNkZGRjZGNiomRkVGNkZBRjZGOkkieEdGJTcmLCQqJkZFRjZGN0Y2RjosJiooRkVGNkY/RjZGQUY2RjYqJkYvRjZGRkY2RjosJiooRkVGNkY/RjZGRkY2RjYqJkYvRjZGQUY2RkdJInlHRiU3JiwkRj8kISQrIiEiIywkKiZGN0Y2RkFGNkY6LCQqJkY3RjZGRkY2RjpJInpHRiU3JiQiIiFGXW9GXG9GXG9GOkknTWF0cml4R0Yx</Equation></Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">RToEuler := proc (R::Matrix(3,3))::Vector(3);
Vector([arctan(R[2,1],R[1,1]), arcsin(-R[3,1]), arctan(R[3,2],R[3,3])]);
end proc;</Text-field></Input><Output><Text-field layout="Maple Output" style="2D Output"><Equation>NiM+SSlSVG9FdWxlckc2ImYrNiMnSSJSR0YlLUknTWF0cml4R0YlNiQiIiRGLUYlRiVGJS1JJ1ZlY3RvckdGJTYjNyUtSSdhcmN0YW5HRiU2JCY5JDYkIiIjIiIiJkY2NiRGOUY5LUknYXJjc2luR0YlNiMsJCZGNjYkRi1GOSEiIi1GMzYkJkY2NiRGLUY4JkY2RixGJUYlRiUtRi82I0Yt</Equation></Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">MToEuler := proc (M::Matrix(4,4))::Vector(6);
Vector([M[1..3,4], RToEuler(M[1..3,1..3])]);
end proc;</Text-field></Input><Output><Text-field layout="Maple Output" style="2D Output"><Equation>NiM+SSlNVG9FdWxlckc2ImYrNiMnSSJNR0YlLUknTWF0cml4R0YlNiQiIiVGLUYlRiVGJS1JJ1ZlY3RvckdGJTYjNyQmOSQ2JDsiIiIiIiRGLS1JKVJUb0V1bGVyR0YlNiMmRjM2JEY1RjVGJUYlRiUtRi82IyIiJw==</Equation></Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">MToEuler(eulerToM(Vector([x,y,z,yaw,pitch,roll])));</Text-field></Input><Output><Text-field layout="Maple Output" style="2D Output"><Equation style="2D Output">NiMtSSdSVEFCTEVHNiI2JSIqayl5I2UiLUknTUFUUklYR0YlNiM3KDcjSSJ4R0YlNyNJInlHRiU3I0kiekdGJTcjLUknYXJjdGFuRzYkSSpwcm90ZWN0ZWRHRjZJKF9zeXNsaWJHRiU2JCwkKiYtSSRzaW5HRjU2I0kkeWF3R0YlIiIiLUkkY29zR0Y1NiNJJnBpdGNoR0YlRj8kIisrKysrNSEiKiwkKiYtRkFGPUY/RkBGP0ZENyMtSSdhcmNzaW5HRjU2IywkLUY8RkIkIiQrIiEiIzcjLUY0NiQsJComRkBGPy1GPDYjSSVyb2xsR0YlRj9GRCwkKiZGQEY/LUZBRllGP0ZEJkknVmVjdG9yR0Y1NiNJJ2NvbHVtbkdGJQ==</Equation></Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">invM := proc (M::Matrix(4,4))::Matrix(4,4);
local R, t;
R := Transpose(M[1..3,1..3]);
t := -MatrixMatrixMultiply(R, M[1..3,4..4]);
Matrix([ [ Matrix([ R, t ]) ] , [Matrix([0.0, 0.0, 0.0, 1.0])] ]);
end proc;</Text-field></Input><Output><Text-field layout="Maple Output" style="2D Output"><Equation>NiM+SSVpbnZNRzYiZis2IydJIk1HRiUtSSdNYXRyaXhHRiU2JCIiJUYtNiRJIlJHRiVJInRHRiVGJUYlQyU+OCQtX0kuTGluZWFyQWxnZWJyYUc2JEkqcHJvdGVjdGVkR0Y4SShfc3lzbGliR0YlSSpUcmFuc3Bvc2VHRiU2IyY5JDYkOyIiIiIiJEY/PjglLCQtX0Y2STVNYXRyaXhNYXRyaXhNdWx0aXBseUdGJTYkRjMmRj02JEY/O0YtRi0hIiItRis2IzckNyMtRis2IzckRjNGQzcjLUYrNiM3JiQiIiFGWUZYRlgkIiM1RkxGJUYlRiVGKg==</Equation></Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">invM(eulerToM(&lt;x,y,z,yaw,pitch,roll&gt;));</Text-field></Input><Output><Text-field layout="Maple Output" style="2D Output"><Equation style="2D Output">NiMtSSdSVEFCTEVHNiI2JSIqM2JJZSItSSdNQVRSSVhHRiU2IzcmNyYsJComLUkkY29zRzYkSSpwcm90ZWN0ZWRHRjJJKF9zeXNsaWJHRiU2I0kkeWF3R0YlIiIiLUYwNiNJJnBpdGNoR0YlRjYkIiM1ISIiLCQqJi1JJHNpbkdGMUY0RjZGN0Y2RjosJC1GQEY4JCEkKyIhIiMsKCooRi9GNkY3RjZJInhHRiVGNiQhIzVGPCooRj9GNkY3RjZJInlHRiVGNkZJKiZGQkY2SSJ6R0YlRjYkIiQrIkZFNyYsJiooRi9GNkZCRjYtRkA2I0klcm9sbEdGJUY2RjYqJkY/RjYtRjBGVUY2RkksJiooRj9GNkZCRjZGVEY2RjYqJkYvRjZGWEY2RjosJComRjdGNkZURjZGOiwoKiZGUkY2RkhGNkY8KiZGWUY2RkxGNkY8KihGN0Y2RlRGNkZORjZGSTcmLCYqKEYvRjZGQkY2RlhGNkY2KiZGP0Y2RlRGNkY6LCYqKEY/RjZGQkY2RlhGNkY2KiZGL0Y2RlRGNkZJLCQqJkY3RjZGWEY2RjosKComRl1vRjZGSEY2RjwqJkZgb0Y2RkxGNkY8KihGN0Y2RlhGNkZORjZGSTcmJCIiIUZbcEZqb0Zqb0Y6SSdNYXRyaXhHRjE=</Equation></Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">C(MToEuler(invM(eulerToM(&lt;x,y,z,yaw,pitch,roll&gt;))), optimize);</Text-field></Input><Output><Text-field layout="Normal" style="Line Printed Output">t1 = cos(yaw);
t2 = cos(pitch);
t3 = t1 * t2;
t6 = sin(yaw);
t10 = sin(pitch);
t14 = t1 * t10;
t15 = sin(roll);
t17 = cos(roll);
t20 = t14 * t15 - 0.10e1 * t6 * t17;
t22 = t6 * t10;
t35 = t14 * t17 + 0.10e1 * t6 * t15;
t40 = t22 * t17 - 0.10e1 * t1 * t15;
t42 = t2 * t17;
t47 = atan2(t20, 0.10e1 * t3);
t48 = asin(t35);
t50 = atan2(t40, 0.10e1 * t42);
cg[0] = -0.10e1 * t3 * x - 0.10e1 * t6 * t2 * y + 0.100e1 * t10 * z;
cg[1] = -t20 * x - (t22 * t15 + 0.10e1 * t1 * t17) * y - 0.10e1 * t2 * t15 * z;
cg[2] = -t35 * x - t40 * y - 0.10e1 * t42 * z;
cg[3] = t47;
cg[4] = -t48;
cg[5] = t50;</Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input"/></Input></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">composeFrame := proc (X1::Vector(6), X2::Vector(6))::Vector(6);
MToEuler( MatrixMatrixMultiply(eulerToM(X1),eulerToM(X2)));
end proc;</Text-field></Input><Output><Text-field layout="Maple Output" style="2D Output"><Equation style="2D Output">NiM+SS1jb21wb3NlRnJhbWVHNiJmKzYkJ0kjWDFHRiUtSSdWZWN0b3JHNiRJKnByb3RlY3RlZEdGLUkoX3N5c2xpYkdGJTYjIiInJ0kjWDJHRiVGKkYlRiVGJS1JKU1Ub0V1bGVyR0YlNiMtX0kuTGluZWFyQWxnZWJyYUdGLEk1TWF0cml4TWF0cml4TXVsdGlwbHlHRiU2JC1JKWV1bGVyVG9NR0YlNiM5JC1GPDYjOSVGJUYlRiVGKg==</Equation></Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">composeFrame(&lt;0,0,0,0.1,0,0&gt;,&lt;1,0,0,0,0,0&gt;);</Text-field></Input><Output><Text-field layout="Maple Output" style="2D Output"><Equation style="2D Output">NiMtSSdSVEFCTEVHNiI2JSIqJSkqeSNlIi1JJ01BVFJJWEdGJTYjNyg3IyQiM0ArKytgOy9dKiohIz03IyQiM2srKytsO00kKSoqISM+NyMkIiIhRjY3IyQiKysrKys1ISM1NyMkISIhRjZGNCZJJ1ZlY3Rvckc2JEkqcHJvdGVjdGVkR0ZBSShfc3lzbGliR0YlNiNJJ2NvbHVtbkdGJQ==</Equation></Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">fromFrame := proc (frame::Vector(6), v::Vector(3), h)::Vector(3);</Text-field></Input><Input><Text-field prompt="&gt; " style="Maple Input">MatrixVectorMultiply(eulerToM(frame), &lt;v[1], v[2], v[3], h&gt;)[1..3];</Text-field></Input><Input><Text-field prompt="&gt; " style="Maple Input">end proc;</Text-field></Input><Output><Text-field layout="Maple Output" style="2D Output"><Equation style="2D Output">NiM+SSpmcm9tRnJhbWVHNiJmKzYlJ0kmZnJhbWVHRiUtSSdWZWN0b3JHNiRJKnByb3RlY3RlZEdGLUkoX3N5c2xpYkdGJTYjIiInJ0kidkdGJS1GKzYjIiIkSSJoR0YlRiVGJUYlJi1fSS5MaW5lYXJBbGdlYnJhR0YsSTVNYXRyaXhWZWN0b3JNdWx0aXBseUdGJTYkLUkpZXVsZXJUb01HRiU2IzkkLUkkPCw+R0YuNiYmOSU2IyIiIiZGRTYjIiIjJkZFRjQ5JjYjO0ZHRjVGJUYlRiVGMw==</Equation></Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">fromFrame_res := fromFrame(&lt;x,y,z,yaw,pitch,roll&gt;, &lt;v_x, v_y, v_z&gt;, h);</Text-field></Input><Output><Text-field layout="Maple Output" style="2D Output"><Equation style="2D Output">NiM+SS5mcm9tRnJhbWVfcmVzRzYiLUknUlRBQkxFR0YlNiUiKmsheiNlIi1JJ01BVFJJWEdGJTYjNyY3IywqKigtSSRjb3NHNiRJKnByb3RlY3RlZEdGNEkoX3N5c2xpYkdGJTYjSSR5YXdHRiUiIiItRjI2I0kmcGl0Y2hHRiVGOEkkdl94R0YlRjgkIiM1ISIiKiYsJiooRjFGOC1JJHNpbkdGM0Y6RjgtRkQ2I0klcm9sbEdGJUY4RjgqJi1GREY2RjgtRjJGRkY4JCEjNUY/RjhJJHZfeUdGJUY4RjgqJiwmKihGMUY4RkNGOEZKRjhGOComRklGOEZFRjhGPUY4SSR2X3pHRiVGOEY4KiZJInhHRiVGOEkiaEdGJUY4Rjg3IywqKihGSUY4RjlGOEY8RjhGPSomLCYqKEZJRjhGQ0Y4RkVGOEY4KiZGMUY4RkpGOEY9RjhGTUY4RjgqJiwmKihGSUY4RkNGOEZKRjhGOComRjFGOEZFRjhGS0Y4RlJGOEY4KiZJInlHRiVGOEZVRjhGODcjLCoqJkZDRjhGPEY4JCEkKyIhIiMqKEY5RjhGRUY4Rk1GOEY9KihGOUY4RkpGOEZSRjhGPSomSSJ6R0YlRjhGVUY4Rjg3IywkRlVGPSZJJ1ZlY3RvckdGMzYjSSdjb2x1bW5HRiU=</Equation></Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">C(fromFrame(&lt;x,y,z,yaw,pitch,roll&gt;, &lt;v_x, v_y, v_z&gt;, 0), optimize);</Text-field></Input><Output><Text-field layout="Normal" style="Line Printed Output">t1 = cos(yaw);
t2 = cos(pitch);
t6 = sin(pitch);
t7 = t1 * t6;
t8 = sin(roll);
t10 = sin(yaw);
t11 = cos(roll);
t25 = t10 * t6;
cg1[0] = 0.10e1 * t1 * t2 * v_x + (t7 * t8 - 0.10e1 * t10 * t11) * v_y + (t7 * t11 + 0.10e1 * t10 * t8) * v_z;
cg1[1] = 0.10e1 * t10 * t2 * v_x + (t25 * t8 + 0.10e1 * t1 * t11) * v_y + (t25 * t11 - 0.10e1 * t1 * t8) * v_z;
cg1[2] = -0.100e1 * t6 * v_x + 0.10e1 * t2 * t8 * v_y + 0.10e1 * t2 * t11 * v_z;</Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">fromFrame1_jac := Jacobian(fromFrame(&lt;x,y,z,yaw,pitch,roll&gt;, &lt;v_x, v_y, v_z&gt;, 1),[x,y,z,yaw,pitch,roll,v_x, v_y, v_z]);</Text-field></Input><Output><Text-field layout="Maple Output" style="2D Output"><Equation style="2D Output">NiM+SS9mcm9tRnJhbWUxX2phY0c2Ii1JJ1JUQUJMRUdGJTYlIipPNktlIi1JJ01BVFJJWEdGJTYjNyU3KyIiIiIiIUYwLCgqKC1JJHNpbkc2JEkqcHJvdGVjdGVkR0Y2SShfc3lzbGliR0YlNiNJJHlhd0dGJUYvLUkkY29zR0Y1NiNJJnBpdGNoR0YlRi9JJHZfeEdGJUYvJCEjNSEiIiomLCYqKEYzRi8tRjRGPEYvLUY0NiNJJXJvbGxHRiVGL0ZBKiYtRjtGOEYvLUY7RkdGL0Y/Ri9JJHZfeUdGJUYvRi8qJiwmKihGM0YvRkVGL0ZLRi9GQSomRkpGL0ZGRi8kIiM1RkFGL0kkdl96R0YlRi9GLywoKihGSkYvRkVGL0Y+Ri9GPyoqRkpGL0Y6Ri9GRkYvRkxGL0YvKipGSkYvRjpGL0ZLRi9GU0YvRi8sJiomLCYqKEZKRi9GRUYvRktGL0YvKiZGM0YvRkZGL0ZRRi9GTEYvRi8qJiwmKihGSkYvRkVGL0ZGRi9GQSomRjNGL0ZLRi9GUUYvRlNGL0YvLCQqJkZKRi9GOkYvRlEsJkZpbkYvRmpuRj9GWjcrRjBGL0YwLCgqKEZKRi9GOkYvRj5GL0ZRKiZGXW9GL0ZMRi9GLyomRlpGL0ZTRi9GLywoKihGM0YvRkVGL0Y+Ri9GPyoqRjNGL0Y6Ri9GRkYvRkxGL0YvKipGM0YvRjpGL0ZLRi9GU0YvRi8sJiomLCZGT0YvRlBGP0YvRkxGL0YvKiZGQ0YvRlNGL0YvLCQqJkYzRi9GOkYvRlEsJkZERi9GSUZRRmlvNytGMEYwRi9GMCwoKiZGOkYvRj5GLyQhJCsiISIjKihGRUYvRkZGL0ZMRi9GPyooRkVGL0ZLRi9GU0YvRj8sJiooRjpGL0ZLRi9GTEYvRlEqKEY6Ri9GRkYvRlNGL0Y/LCRGRUZhcCwkKiZGOkYvRkZGL0ZRLCQqJkY6Ri9GS0YvRlFJJ01hdHJpeEdGNQ==</Equation></Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">C(fromFrame1_jac, optimize, deducetypes=false);</Text-field></Input><Output><Text-field layout="Normal" style="Line Printed Output">t1 = sin(yaw);
t2 = cos(pitch);
t3 = t1 * t2;
t6 = sin(pitch);
t7 = t1 * t6;
t8 = sin(roll);
t10 = cos(yaw);
t11 = cos(roll);
t14 = -t7 * t8 - 0.10e1 * t10 * t11;
t19 = -t7 * t11 + 0.10e1 * t10 * t8;
t22 = t10 * t6;
t25 = t10 * t2;
t26 = t8 * v_y;
t28 = t11 * v_z;
t34 = t22 * t11 + 0.10e1 * t1 * t8;
t39 = -t22 * t8 + 0.10e1 * t1 * t11;
t66 = t2 * t11;
t69 = t2 * t8;
cg3[0][0] = 0.1e1;
cg3[0][1] = 0.0e0;
cg3[0][2] = 0.0e0;
cg3[0][3] = -0.10e1 * t3 * v_x + t14 * v_y + t19 * v_z;
cg3[0][4] = -0.10e1 * t22 * v_x + t25 * t26 + t25 * t28;
cg3[0][5] = t34 * v_y + t39 * v_z;
cg3[0][6] = 0.10e1 * t25;
cg3[0][7] = -t39;
cg3[0][8] = t34;
cg3[1][0] = 0.0e0;
cg3[1][1] = 0.1e1;
cg3[1][2] = 0.0e0;
cg3[1][3] = 0.10e1 * t25 * v_x - t39 * v_y + t34 * v_z;
cg3[1][4] = -0.10e1 * t7 * v_x + t3 * t26 + t3 * t28;
cg3[1][5] = -t19 * v_y + t14 * v_z;
cg3[1][6] = 0.10e1 * t3;
cg3[1][7] = -t14;
cg3[1][8] = -t19;
cg3[2][0] = 0.0e0;
cg3[2][1] = 0.0e0;
cg3[2][2] = 0.1e1;
cg3[2][3] = 0.0e0;
cg3[2][4] = -0.100e1 * t2 * v_x - 0.10e1 * t6 * t8 * v_y - 0.10e1 * t6 * t11 * v_z;
cg3[2][5] = 0.10e1 * t66 * v_y - 0.10e1 * t69 * v_z;
cg3[2][6] = -0.100e1 * t6;
cg3[2][7] = 0.10e1 * t69;
cg3[2][8] = 0.10e1 * t66;</Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">fromFrame0_jac := Jacobian(fromFrame(&lt;x,y,z,yaw,pitch,roll&gt;, &lt;v_x, v_y, v_z&gt;, 0),[x,y,z,yaw,pitch,roll,v_x, v_y, v_z]);</Text-field></Input><Output><Text-field layout="Maple Output" style="2D Output"><Equation style="2D Output">NiM+SS9mcm9tRnJhbWUwX2phY0c2Ii1JJ1JUQUJMRUdGJTYlIipDKkckZSItSSdNQVRSSVhHRiU2IzclNysiIiFGL0YvLCgqKC1JJHNpbkc2JEkqcHJvdGVjdGVkR0Y1SShfc3lzbGliR0YlNiNJJHlhd0dGJSIiIi1JJGNvc0dGNDYjSSZwaXRjaEdGJUY5SSR2X3hHRiVGOSQhIzUhIiIqJiwmKihGMkY5LUYzRjxGOS1GMzYjSSVyb2xsR0YlRjlGQSomLUY7RjdGOS1GO0ZHRjlGP0Y5SSR2X3lHRiVGOUY5KiYsJiooRjJGOUZFRjlGS0Y5RkEqJkZKRjlGRkY5JCIjNUZBRjlJJHZfekdGJUY5RjksKCooRkpGOUZFRjlGPkY5Rj8qKkZKRjlGOkY5RkZGOUZMRjlGOSoqRkpGOUY6RjlGS0Y5RlNGOUY5LCYqJiwmKihGSkY5RkVGOUZLRjlGOSomRjJGOUZGRjlGUUY5RkxGOUY5KiYsJiooRkpGOUZFRjlGRkY5RkEqJkYyRjlGS0Y5RlFGOUZTRjlGOSwkKiZGSkY5RjpGOUZRLCZGaW5GOUZqbkY/Rlo3K0YvRi9GLywoKihGSkY5RjpGOUY+RjlGUSomRl1vRjlGTEY5RjkqJkZaRjlGU0Y5RjksKCooRjJGOUZFRjlGPkY5Rj8qKkYyRjlGOkY5RkZGOUZMRjlGOSoqRjJGOUY6RjlGS0Y5RlNGOUY5LCYqJiwmRk9GOUZQRj9GOUZMRjlGOSomRkNGOUZTRjlGOSwkKiZGMkY5RjpGOUZRLCZGREY5RklGUUZpbzcrRi9GL0YvRi8sKComRjpGOUY+RjkkISQrIiEiIyooRkVGOUZGRjlGTEY5Rj8qKEZFRjlGS0Y5RlNGOUY/LCYqKEY6RjlGS0Y5RkxGOUZRKihGOkY5RkZGOUZTRjlGPywkRkVGYXAsJComRjpGOUZGRjlGUSwkKiZGOkY5RktGOUZRSSdNYXRyaXhHRjQ=</Equation></Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">C(fromFrame0_jac, optimize, deducetypes=false);</Text-field></Input><Output><Text-field layout="Normal" style="Line Printed Output">t1 = sin(yaw);
t2 = cos(pitch);
t3 = t1 * t2;
t6 = sin(pitch);
t7 = t1 * t6;
t8 = sin(roll);
t10 = cos(yaw);
t11 = cos(roll);
t14 = -t7 * t8 - 0.10e1 * t10 * t11;
t19 = -t7 * t11 + 0.10e1 * t10 * t8;
t22 = t10 * t6;
t25 = t10 * t2;
t26 = t8 * v_y;
t28 = t11 * v_z;
t34 = t22 * t11 + 0.10e1 * t1 * t8;
t39 = -t22 * t8 + 0.10e1 * t1 * t11;
t66 = t2 * t11;
t69 = t2 * t8;
cg4[0][0] = 0.0e0;
cg4[0][1] = 0.0e0;
cg4[0][2] = 0.0e0;
cg4[0][3] = -0.10e1 * t3 * v_x + t14 * v_y + t19 * v_z;
cg4[0][4] = -0.10e1 * t22 * v_x + t25 * t26 + t25 * t28;
cg4[0][5] = t34 * v_y + t39 * v_z;
cg4[0][6] = 0.10e1 * t25;
cg4[0][7] = -t39;
cg4[0][8] = t34;
cg4[1][0] = 0.0e0;
cg4[1][1] = 0.0e0;
cg4[1][2] = 0.0e0;
cg4[1][3] = 0.10e1 * t25 * v_x - t39 * v_y + t34 * v_z;
cg4[1][4] = -0.10e1 * t7 * v_x + t3 * t26 + t3 * t28;
cg4[1][5] = -t19 * v_y + t14 * v_z;
cg4[1][6] = 0.10e1 * t3;
cg4[1][7] = -t14;
cg4[1][8] = -t19;
cg4[2][0] = 0.0e0;
cg4[2][1] = 0.0e0;
cg4[2][2] = 0.0e0;
cg4[2][3] = 0.0e0;
cg4[2][4] = -0.100e1 * t2 * v_x - 0.10e1 * t6 * t8 * v_y - 0.10e1 * t6 * t11 * v_z;
cg4[2][5] = 0.10e1 * t66 * v_y - 0.10e1 * t69 * v_z;
cg4[2][6] = -0.100e1 * t6;
cg4[2][7] = 0.10e1 * t69;
cg4[2][8] = 0.10e1 * t66;</Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">toFrame := proc (frame::Vector(6), v::Vector(3), h)::Vector(3);</Text-field></Input><Input><Text-field prompt="&gt; " style="Maple Input">MatrixVectorMultiply(invM(eulerToM(frame)), &lt;v[1], v[2], v[3], h&gt;)[1..3];
end proc;</Text-field></Input><Output><Text-field layout="Maple Output" style="2D Output"><Equation style="2D Output">NiM+SSh0b0ZyYW1lRzYiZis2JSdJJmZyYW1lR0YlLUknVmVjdG9yRzYkSSpwcm90ZWN0ZWRHRi1JKF9zeXNsaWJHRiU2IyIiJydJInZHRiUtRis2IyIiJEkiaEdGJUYlRiVGJSYtX0kuTGluZWFyQWxnZWJyYUdGLEk1TWF0cml4VmVjdG9yTXVsdGlwbHlHRiU2JC1JJWludk1HRiU2Iy1JKWV1bGVyVG9NR0YlNiM5JC1JJDwsPkdGLjYmJjklNiMiIiImRkg2IyIiIyZGSEY0OSY2IztGSkY1RiVGJUYlRjM=</Equation></Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">toFrame_res := toFrame(&lt;x,y,z,yaw,pitch,roll&gt;, &lt;v_x, v_y, v_z&gt;, h);</Text-field></Input><Output><Text-field layout="Maple Output" style="2D Output"><Equation style="2D Output">NiM+SSx0b0ZyYW1lX3Jlc0c2Ii1JJ1JUQUJMRUdGJTYlIiprJ3ojZSItSSdNQVRSSVhHRiU2IzclNyMsKiooLUkkY29zRzYkSSpwcm90ZWN0ZWRHRjRJKF9zeXNsaWJHRiU2I0kkeWF3R0YlIiIiLUYyNiNJJnBpdGNoR0YlRjhJJHZfeEdGJUY4JCIjNSEiIiooLUkkc2luR0YzRjZGOEY5RjhJJHZfeUdGJUY4Rj0qJi1GQkY6RjhJJHZfekdGJUY4JCEkKyIhIiMqJiwoKihGMUY4RjlGOEkieEdGJUY4JCEjNUY/KihGQUY4RjlGOEkieUdGJUY4Rk4qJkZFRjhJInpHRiVGOCQiJCsiRklGOEkiaEdGJUY4Rjg3IywqKiYsJiooRjFGOEZFRjgtRkI2I0klcm9sbEdGJUY4RjgqJkZBRjgtRjJGZ25GOEZORjhGPEY4RjgqJiwmKihGQUY4RkVGOEZmbkY4RjgqJkYxRjhGam5GOEY9RjhGQ0Y4RjgqKEY5RjhGZm5GOEZGRjhGPSomLCgqJkZaRjhGTUY4Rj8qJkZcb0Y4RlFGOEY/KihGOUY4RmZuRjhGU0Y4Rk5GOEZWRjhGODcjLCoqJiwmKihGMUY4RkVGOEZqbkY4RjgqJkZBRjhGZm5GOEY9RjhGPEY4RjgqJiwmKihGQUY4RkVGOEZqbkY4RjgqJkYxRjhGZm5GOEZORjhGQ0Y4RjgqKEY5RjhGam5GOEZGRjhGPSomLCgqJkZob0Y4Rk1GOEY/KiZGXHBGOEZRRjhGPyooRjlGOEZqbkY4RlNGOEZORjhGVkY4RjgmSSdWZWN0b3JHRjM2I0knY29sdW1uR0Yl</Equation></Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">toFrame(&lt;0.141474,1.99499,0,1.5,0,0&gt;, &lt;-5,5,0&gt;,1);</Text-field></Input><Output><Text-field layout="Maple Output" style="2D Output"><Equation style="2D Output">NiMtSSdSVEFCTEVHNiI2JSIqayl6I2UiLUknTUFUUklYR0YlNiM3JTcjJCIzTy9RWUUqKXlMRSEjPDcjJCIzTzpZN1AwO1RgRi83IyQiIiFGNSZJJ1ZlY3Rvckc2JEkqcHJvdGVjdGVkR0Y5SShfc3lzbGliR0YlNiNJJ2NvbHVtbkdGJQ==</Equation></Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">C(toFrame(&lt;x,y,z,yaw,pitch,roll&gt;, &lt;v_x, v_y, v_z&gt;, 0), optimize);</Text-field></Input><Output><Text-field layout="Normal" style="Line Printed Output">t1 = cos(yaw);
t2 = cos(pitch);
t6 = sin(yaw);
t10 = sin(pitch);
t14 = t1 * t10;
t15 = sin(roll);
t17 = cos(roll);
t22 = t10 * t6;
cg7[0] = 0.10e1 * t1 * t2 * v_x + 0.10e1 * t6 * t2 * v_y - 0.100e1 * t10 * v_z;
cg7[1] = (t14 * t15 - 0.10e1 * t6 * t17) * v_x + (t22 * t15 + 0.10e1 * t1 * t17) * v_y + 0.10e1 * t2 * t15 * v_z;
cg7[2] = (t14 * t17 + 0.10e1 * t6 * t15) * v_x + (t22 * t17 - 0.10e1 * t1 * t15) * v_y + 0.10e1 * t2 * t17 * v_z;</Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">toFrame0_jac := Jacobian(toFrame(&lt;x,y,z,yaw,pitch,roll&gt;, &lt;v_x, v_y, v_z&gt;, 0),[x,y,z,yaw,pitch,roll,v_x, v_y, v_z]);</Text-field></Input><Output><Text-field layout="Maple Output" style="2D Output"><Equation style="2D Output">NiM+SS10b0ZyYW1lMF9qYWNHNiItSSdSVEFCTEVHRiU2JSIqJyo9TWUiLUknTUFUUklYR0YlNiM3JTcrIiIhRi9GLywmKigtSSRzaW5HNiRJKnByb3RlY3RlZEdGNUkoX3N5c2xpYkdGJTYjSSR5YXdHRiUiIiItSSRjb3NHRjQ2I0kmcGl0Y2hHRiVGOUkkdl94R0YlRjkkISM1ISIiKigtRjtGN0Y5RjpGOUkkdl95R0YlRjkkIiM1RkEsKCooRkNGOS1GM0Y8RjlGPkY5Rj8qKEYyRjlGSUY5RkRGOUY/KiZGOkY5SSR2X3pHRiVGOSQhJCsiISIjRi8sJComRkNGOUY6RjlGRSwkKiZGMkY5RjpGOUZFLCRGSUZNNytGL0YvRi8sJiomLCYqKEYyRjlGSUY5LUYzNiNJJXJvbGxHRiVGOUZBKiZGQ0Y5LUY7RmVuRjlGP0Y5Rj5GOUY5KiYsJiooRkNGOUZJRjlGWkY5RjkqJkYyRjlGaG5GOUY/RjlGREY5RjksKCoqRkNGOUY6RjlGWkY5Rj5GOUY5KipGMkY5RjpGOUZaRjlGREY5RjkqKEZJRjlGWkY5RkxGOUY/LCgqJiwmKihGQ0Y5RklGOUZobkY5RjkqJkYyRjlGWkY5RkVGOUY+RjlGOSomLCYqKEYyRjlGSUY5RmhuRjlGOSomRkNGOUZaRjlGP0Y5RkRGOUY5KihGOkY5RmhuRjlGTEY5RkVGam4sJkZZRjlGZ25GRSwkKiZGOkY5RlpGOUZFNytGL0YvRi8sJiomLCZGaG9GQUZpb0ZFRjlGPkY5RjkqJkZjb0Y5RkRGOUY5LCgqKkZDRjlGOkY5RmhuRjlGPkY5RjkqKkYyRjlGOkY5RmhuRjlGREY5RjkqKEZJRjlGaG5GOUZMRjlGPywoKiYsJkZbb0ZBRlxvRkVGOUY+RjlGOSomRlhGOUZERjlGOSooRjpGOUZaRjlGTEY5Rj9GY29GZ28sJComRjpGOUZobkY5RkVJJ01hdHJpeEdGNA==</Equation></Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">C(toFrame0_jac, optimize, deducetypes=false);</Text-field></Input><Output><Text-field layout="Normal" style="Line Printed Output">t1 = sin(yaw);
t2 = cos(pitch);
t3 = t1 * t2;
t6 = cos(yaw);
t7 = t6 * t2;
t11 = sin(pitch);
t12 = t6 * t11;
t15 = t1 * t11;
t24 = sin(roll);
t26 = cos(roll);
t29 = -t15 * t24 - 0.10e1 * t6 * t26;
t34 = t12 * t24 - 0.10e1 * t1 * t26;
t48 = t12 * t26 + 0.10e1 * t1 * t24;
t53 = t15 * t26 - 0.10e1 * t6 * t24;
t55 = t2 * t26;
t59 = t2 * t24;
cg8[0][0] = 0.0e0;
cg8[0][1] = 0.0e0;
cg8[0][2] = 0.0e0;
cg8[0][3] = -0.10e1 * t3 * v_x + 0.10e1 * t7 * v_y;
cg8[0][4] = -0.10e1 * t12 * v_x - 0.10e1 * t15 * v_y - 0.100e1 * t2 * v_z;
cg8[0][5] = 0.0e0;
cg8[0][6] = 0.10e1 * t7;
cg8[0][7] = 0.10e1 * t3;
cg8[0][8] = -0.100e1 * t11;
cg8[1][0] = 0.0e0;
cg8[1][1] = 0.0e0;
cg8[1][2] = 0.0e0;
cg8[1][3] = t29 * v_x + t34 * v_y;
cg8[1][4] = t7 * t24 * v_x + t3 * t24 * v_y - 0.10e1 * t11 * t24 * v_z;
cg8[1][5] = t48 * v_x + t53 * v_y + 0.10e1 * t55 * v_z;
cg8[1][6] = t34;
cg8[1][7] = -t29;
cg8[1][8] = 0.10e1 * t59;
cg8[2][0] = 0.0e0;
cg8[2][1] = 0.0e0;
cg8[2][2] = 0.0e0;
cg8[2][3] = -t53 * v_x + t48 * v_y;
cg8[2][4] = t7 * t26 * v_x + t3 * t26 * v_y - 0.10e1 * t11 * t26 * v_z;
cg8[2][5] = -t34 * v_x + t29 * v_y - 0.10e1 * t59 * v_z;
cg8[2][6] = t48;
cg8[2][7] = t53;
cg8[2][8] = 0.10e1 * t55;</Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">eulerToM(&lt;1,0,0,0,0,0&gt;);</Text-field></Input><Output><Text-field layout="Maple Output" style="2D Output"><Equation style="2D Output">NiMtSSdSVEFCTEVHNiI2JSIqY2MvbSItSSdNQVRSSVhHRiU2IzcmNyYkIiIiIiIhJEYvRi9GMEYuNyZGMEYtRjBGLzcmRjBGMEYtRi83JkYwRjBGMCQiIzUhIiJJJ01hdHJpeEc2JEkqcHJvdGVjdGVkR0Y5SShfc3lzbGliR0Yl</Equation></Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">invM(eulerToM(&lt;1,0,0,0,0,0&gt;));</Text-field></Input><Output><Text-field layout="Maple Output" style="2D Output"><Equation style="2D Output">NiMtSSdSVEFCTEVHNiI2JSIqMydbZzstSSdNQVRSSVhHRiU2IzcmNyYkIiIiIiIhJEYvRi9GMCQhIiJGLzcmRjBGLUYwRjA3JkYwRjBGLUYwNyZGMEYwRjAkIiM1RjJJJ01hdHJpeEc2JEkqcHJvdGVjdGVkR0Y6SShfc3lzbGliR0Yl</Equation></Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">fromFrame(&lt;0.141474,1.99499,0,1.5,0,0&gt;, &lt;2.6337,5.3411,0&gt; );</Text-field></Input><Output><Text-field layout="Maple Output" style="2D Output"><Equation style="2D Output">NiMtSSdSVEFCTEVHNiI2JSIqNzYsbSItSSdNQVRSSVhHRiU2IzclNyMkITM3Iik0KlshZiUqKipcISM8NyMkIjNHZCFbUywyKioqXEYvNyMkIiIhRjUmSSdWZWN0b3JHNiRJKnByb3RlY3RlZEdGOUkoX3N5c2xpYkdGJTYjSSdjb2x1bW5HRiU=</Equation></Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">fromFrame(&lt;0.0458562,-0.128928,-0.00112962,0.700055,0.000347949,-2.77159e-05&gt;,&lt;0.78343,6.99731,-0.000180684&gt;);</Text-field></Input><Output><Text-field layout="Maple Output" style="2D Output"><Equation style="2D Output">NiMtSSdSVEFCTEVHNiI2JSIqIz42ZzstSSdNQVRSSVhHRiU2IzclNyMkITMxJ3BNXGVjSSdRISM8NyMkIjM2LF5zWVVSRmRGLzcjJCEzRmgieTVTTW94IiEjPyZJJ1ZlY3Rvckc2JEkqcHJvdGVjdGVkR0Y6SShfc3lzbGliR0YlNiNJJ2NvbHVtbkdGJQ==</Equation></Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">toFrame(&lt;0.0458562,-0.128928,-0.00112962,0.700055,0.000347949,-2.77159e-05&gt;,&lt;-5,5,0&gt;);</Text-field></Input><Output><Text-field layout="Maple Output" style="2D Output"><Equation style="2D Output">NiMtSSdSVEFCTEVHNiI2JSIqczcsbSItSSdNQVRSSVhHRiU2IzclNyMkITNmQCNwZXhMdWEmISM9NyMkIjMuTVlXOTNbdHIhIzw3IyQiMy14aFlNclRONiEjPyZJJ1ZlY3Rvckc2JEkqcHJvdGVjdGVkR0Y7SShfc3lzbGliR0YlNiNJJ2NvbHVtbkdGJQ==</Equation></Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">fromFrame(&lt;0.0458562,-0.128928,-0.00112962,0.700055,0.000347949,-2.77159e-05&gt;,&lt;-0.5547433,7.17348,0.00113&gt;);</Text-field></Input><Output><Text-field layout="Maple Output" style="2D Output"><Equation style="2D Output">NiMtSSdSVEFCTEVHNiI2JSIqXzgsbSItSSdNQVRSSVhHRiU2IzclNyMkITNrLClHd1QqKioqKlwhIzw3IyQiM0dvdS1FJSoqKioqXEYvNyMkITNEJ0dFPl5RclQmISNCJkknVmVjdG9yRzYkSSpwcm90ZWN0ZWRHRjpJKF9zeXNsaWJHRiU2I0knY29sdW1uR0Yl</Equation></Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input"/></Input></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input"/></Input></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input"/></Input></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input"/></Input></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input"/></Input></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input"/></Input></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">#
# line with Plucker representation
#</Text-field></Input></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">crossProductMat := proc(x::Vector(3))::Matrix(3,3);
Matrix([[0, -x[3], x[2]] ,[x[3],0,-x[1]] ,[-x[2],x[1],0] ])
end proc;</Text-field></Input><Output><Text-field layout="Maple Output" style="2D Output"><Equation style="2D Output">NiM+STBjcm9zc1Byb2R1Y3RNYXRHNiJmKzYjJ0kieEdGJS1JJ1ZlY3Rvckc2JEkqcHJvdGVjdGVkR0YtSShfc3lzbGliR0YlNiMiIiRGJUYlRiUtSSdNYXRyaXhHRiw2IzclNyUiIiEsJCY5JEYvISIiJkY5NiMiIiM3JUY4RjYsJCZGOTYjIiIiRjo3JSwkRjtGOkZARjZGJUYlRiUtRjI2JEYwRjA=</Equation></Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">crossProductMat(&lt;x,y,z&gt;);</Text-field></Input><Output><Text-field layout="Maple Output" style="2D Output"><Equation style="2D Output">NiMtSSdSVEFCTEVHNiI2JSIqdzAzbSItSSdNQVRSSVhHRiU2IzclNyUiIiEsJEkiekdGJSEiIkkieUdGJTclRi9GLSwkSSJ4R0YlRjA3JSwkRjFGMEY0Ri1JJ01hdHJpeEc2JEkqcHJvdGVjdGVkR0Y5SShfc3lzbGliR0Yl</Equation></Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input"/></Input></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input"/></Input></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">eulerToML := proc(x::Vector(6))::Matrix(6,6);
local t,R;
t := x[1..3];
R := eulerToR(x[4..6]);
Matrix([ [R , MatrixMatrixMultiply(crossProductMat(t),R)], [ Matrix(3,3,0), R ] ]);
end proc;</Text-field></Input><Output><Text-field layout="Maple Output" style="2D Output"><Equation style="2D Output">NiM+SSpldWxlclRvTUxHNiJmKzYjJ0kieEdGJS1JJ1ZlY3Rvckc2JEkqcHJvdGVjdGVkR0YtSShfc3lzbGliR0YlNiMiIic2JEkidEdGJUkiUkdGJUYlRiVDJT44JCY5JDYjOyIiIiIiJD44JS1JKWV1bGVyVG9SR0YlNiMmRjg2IzsiIiVGMC1JJ01hdHJpeEdGLDYjNyQ3JEY+LV9JLkxpbmVhckFsZ2VicmFHRixJNU1hdHJpeE1hdHJpeE11bHRpcGx5R0YlNiQtSTBjcm9zc1Byb2R1Y3RNYXRHRiU2I0Y2Rj43JC1GRzYlRjxGPCIiIUY+RiVGJUYlLUZHNiRGMEYw</Equation></Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">eulerToInvML := proc(x::Vector(6))::Matrix(6,6);
local t,R,ti,Ri;
t := x[1..3];
R := eulerToR(x[4..6]);
Ri := Transpose(R);
ti := - MatrixVectorMultiply(Ri,t);
Matrix([ [Ri , MatrixMatrixMultiply(crossProductMat(ti),Ri)], [ Matrix(3,3,0), Ri ] ]);
end proc;</Text-field></Input><Output><Text-field layout="Maple Output" style="2D Output"><Equation style="2D Output">NiM+SS1ldWxlclRvSW52TUxHNiJmKzYjJ0kieEdGJS1JJ1ZlY3Rvckc2JEkqcHJvdGVjdGVkR0YtSShfc3lzbGliR0YlNiMiIic2JkkidEdGJUkiUkdGJUkjdGlHRiVJI1JpR0YlRiVGJUMnPjgkJjkkNiM7IiIiIiIkPjglLUkpZXVsZXJUb1JHRiU2IyZGOjYjOyIiJUYwPjgnLV9JLkxpbmVhckFsZ2VicmFHRixJKlRyYW5zcG9zZUdGJTYjRkA+OCYsJC1fRkxJNU1hdHJpeFZlY3Rvck11bHRpcGx5R0YlNiRGSUY4ISIiLUknTWF0cml4R0YsNiM3JDckRkktX0ZMSTVNYXRyaXhNYXRyaXhNdWx0aXBseUdGJTYkLUkwY3Jvc3NQcm9kdWN0TWF0R0YlNiNGUEZJNyQtRlg2JUY+Rj4iIiFGSUYlRiVGJS1GWDYkRjBGMA==</Equation></Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">eulerToInvML(&lt;x,y,z,yaw,pitch,roll&gt;):</Text-field></Input></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input"/></Input></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">lineFromFrame := proc(frame::Vector(6), l::Vector(6))::Vector(6);
return MatrixVectorMultiply(eulerToML(frame), l);
end proc;</Text-field></Input><Output><Text-field layout="Maple Output" style="2D Output"><Equation style="2D Output">NiM+SS5saW5lRnJvbUZyYW1lRzYiZis2JCdJJmZyYW1lR0YlLUknVmVjdG9yRzYkSSpwcm90ZWN0ZWRHRi1JKF9zeXNsaWJHRiU2IyIiJydJImxHRiVGKkYlRiVGJU8tX0kuTGluZWFyQWxnZWJyYUdGLEk1TWF0cml4VmVjdG9yTXVsdGlwbHlHRiU2JC1JKmV1bGVyVG9NTEdGJTYjOSQ5JUYlRiVGJUYq</Equation></Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">lineFromFrame(&lt;x,y,z,yaw,pitch,roll&gt;, &lt;n1,n2,n3,u1,u2,u3&gt;):</Text-field></Input></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">C(lineFromFrame(&lt;x,y,z,yaw,pitch,roll&gt;, &lt;n1,n2,n3,u1,u2,u3&gt;), optimize);</Text-field></Input><Output><Text-field layout="Normal" style="Line Printed Output">t1 = cos(yaw);
t2 = cos(pitch);
t3 = t1 * t2;
t6 = sin(pitch);
t7 = t1 * t6;
t8 = sin(roll);
t10 = sin(yaw);
t11 = cos(roll);
t14 = t7 * t8 - 0.10e1 * t10 * t11;
t19 = t7 * t11 + 0.10e1 * t10 * t8;
t28 = t10 * t6;
t32 = t28 * t8 + 0.10e1 * t1 * t11;
t34 = y * t2;
t42 = t28 * t11 - 0.10e1 * t1 * t8;
t49 = t10 * t2;
t62 = x * t2;
t75 = t2 * t8;
t78 = t2 * t11;
cg2[0] = 0.10e1 * t3 * n1 + t14 * n2 + t19 * n3 + (-0.10e1 * z * t10 * t2 - 0.100e1 * y * t6) * u1 + (-z * t32 + 0.10e1 * t34 * t8) * u2 + (-z * t42 + 0.10e1 * t34 * t11) * u3;
cg2[1] = 0.10e1 * t49 * n1 + t32 * n2 + t42 * n3 + (0.10e1 * z * t1 * t2 + 0.100e1 * x * t6) * u1 + (z * t14 - 0.10e1 * t62 * t8) * u2 + (z * t19 - 0.10e1 * t62 * t11) * u3;
cg2[2] = -0.100e1 * t6 * n1 + 0.10e1 * t75 * n2 + 0.10e1 * t78 * n3 + (-0.10e1 * y * t1 * t2 + 0.10e1 * x * t10 * t2) * u1 + (-y * t14 + x * t32) * u2 + (-y * t19 + x * t42) * u3;
cg2[3] = 0.10e1 * t3 * u1 + t14 * u2 + t19 * u3;
cg2[4] = 0.10e1 * t49 * u1 + t32 * u2 + t42 * u3;
cg2[5] = -0.100e1 * t6 * u1 + 0.10e1 * t75 * u2 + 0.10e1 * t78 * u3;</Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">lineFromFrameJac := Jacobian(lineFromFrame(&lt;x,y,z,yaw,pitch,roll&gt;, &lt;n1,n2,n3,u1,u2,u3&gt;), [x,y,z,yaw,pitch,roll,n1,n2,n3,u1,u2,u3]);</Text-field></Input><Output><Text-field layout="Maple Output" style="2D Output"><Equation style="2D Output">NiM+STFsaW5lRnJvbUZyYW1lSmFjRzYiLUknUlRBQkxFR0YlNisiKndWM20iSSlhbnl0aGluZ0dJKnByb3RlY3RlZEdGK0knTWF0cml4RzYkRitJKF9zeXNsaWJHRiVJLHJlY3Rhbmd1bGFyR0YlSS5Gb3J0cmFuX29yZGVyR0YlNyIiIiM7IiIiIiInO0Y0IiM3</Equation></Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">C(lineFromFrameJac, deducetypes=false ,optimize);</Text-field></Input><Output><Text-field layout="Normal" style="Line Printed Output">t1 = sin(pitch);
t4 = cos(pitch);
t5 = sin(roll);
t6 = t4 * t5;
t9 = cos(roll);
t10 = t4 * t9;
t13 = -0.100e1 * t1 * u1 + 0.10e1 * t6 * u2 + 0.10e1 * t10 * u3;
t14 = sin(yaw);
t15 = t14 * t4;
t17 = 0.10e1 * t15 * u1;
t18 = t14 * t1;
t20 = cos(yaw);
t23 = -t18 * t5 - 0.10e1 * t20 * t9;
t28 = -t18 * t9 + 0.10e1 * t20 * t5;
t30 = -t17 + t23 * u2 + t28 * u3;
t35 = z * t20;
t36 = t4 * u1;
t39 = t20 * t1;
t43 = t39 * t5 - 0.10e1 * t14 * t9;
t44 = z * t43;
t49 = t39 * t9 + 0.10e1 * t14 * t5;
t50 = z * t49;
t55 = t20 * t4;
t56 = t5 * n2;
t58 = t9 * n3;
t60 = z * t14;
t63 = y * t4;
t68 = y * t1;
t84 = z * t28 + 0.10e1 * t63 * t9;
t86 = z * t23;
t88 = 0.10e1 * t63 * t5;
t92 = 0.10e1 * t55;
t100 = 0.10e1 * t55 * u1;
t103 = t100 + t43 * u2 + t49 * u3;
t120 = x * t4;
t125 = x * t1;
t140 = t50 - 0.10e1 * t120 * t9;
t144 = 0.10e1 * t120 * t5;
t148 = 0.10e1 * t15;
t177 = t1 * t5;
t180 = t1 * t9;
t183 = y * t20;
t186 = x * t14;
t206 = -y * t49 - x * t28;
t213 = 0.100e1 * t1;
t214 = 0.10e1 * t6;
t215 = 0.10e1 * t10;
t226 = t5 * u2;
t228 = t9 * u3;
cg4[0][0] = 0.0e0;
cg4[0][1] = t13;
cg4[0][2] = t30;
cg4[0][3] = -0.10e1 * t15 * n1 + t23 * n2 + t28 * n3 - 0.10e1 * t35 * t36 - t44 * u2 - t50 * u3;
cg4[0][4] = -0.10e1 * t39 * n1 + t55 * t56 + t55 * t58 + (0.10e1 * t60 * t1 - 0.100e1 * t63) * u1 + (-t60 * t6 - 0.10e1 * t68 * t5) * u2 + (-t60 * t10 - 0.10e1 * t68 * t9) * u3;
cg4[0][5] = t49 * n2 - t43 * n3 + t84 * u2 + (-t86 - t88) * u3;
cg4[0][6] = t92;
cg4[0][7] = t43;
cg4[0][8] = t49;
cg4[0][9] = -0.10e1 * t60 * t4 - 0.100e1 * t68;
cg4[0][10] = z * t23 + t88;
cg4[0][11] = t84;
cg4[1][0] = -t13;
cg4[1][1] = 0.0e0;
cg4[1][2] = t103;
cg4[1][3] = 0.10e1 * t55 * n1 + t43 * n2 + t49 * n3 - 0.10e1 * t60 * t36 + t86 * u2 + z * t28 * u3;
cg4[1][4] = -0.10e1 * t18 * n1 + t15 * t56 + t15 * t58 + (-0.10e1 * t35 * t1 + 0.100e1 * t120) * u1 + (t35 * t6 + 0.10e1 * t125 * t5) * u2 + (t35 * t10 + 0.10e1 * t125 * t9) * u3;
cg4[1][5] = -t28 * n2 + t23 * n3 + t140 * u2 + (-z * t43 + t144) * u3;
cg4[1][6] = t148;
cg4[1][7] = -t23;
cg4[1][8] = -t28;
cg4[1][9] = 0.10e1 * t35 * t4 + 0.100e1 * t125;
cg4[1][10] = t44 - t144;
cg4[1][11] = t140;
cg4[2][0] = t17 - t23 * u2 - t28 * u3;
cg4[2][1] = -t100 - t43 * u2 - t49 * u3;
cg4[2][2] = 0.0e0;
cg4[2][3] = (0.10e1 * t15 * y + 0.10e1 * t55 * x) * u1 + (-y * t23 + t43 * x) * u2 + (-y * t28 + t49 * x) * u3;
cg4[2][4] = -0.100e1 * t4 * n1 - 0.10e1 * t177 * n2 - 0.10e1 * t180 * n3 + (0.10e1 * t183 * t1 - 0.10e1 * t186 * t1) * u1 + (-t183 * t6 + t186 * t6) * u2 + (-t183 * t10 + t186 * t10) * u3;
cg4[2][5] = 0.10e1 * t10 * n2 - 0.10e1 * t6 * n3 + t206 * u2 + (y * t43 + x * t23) * u3;
cg4[2][6] = -t213;
cg4[2][7] = t214;
cg4[2][8] = t215;
cg4[2][9] = -0.10e1 * t183 * t4 + 0.10e1 * t186 * t4;
cg4[2][10] = -y * t43 - x * t23;
cg4[2][11] = t206;
cg4[3][0] = 0.0e0;
cg4[3][1] = 0.0e0;
cg4[3][2] = 0.0e0;
cg4[3][3] = t30;
cg4[3][4] = -0.10e1 * t39 * u1 + t55 * t226 + t55 * t228;
cg4[3][5] = t49 * u2 - t43 * u3;
cg4[3][6] = 0.0e0;
cg4[3][7] = 0.0e0;
cg4[3][8] = 0.0e0;
cg4[3][9] = t92;
cg4[3][10] = t43;
cg4[3][11] = t49;
cg4[4][0] = 0.0e0;
cg4[4][1] = 0.0e0;
cg4[4][2] = 0.0e0;
cg4[4][3] = t103;
cg4[4][4] = -0.10e1 * t18 * u1 + t15 * t226 + t15 * t228;
cg4[4][5] = -t28 * u2 + t23 * u3;
cg4[4][6] = 0.0e0;
cg4[4][7] = 0.0e0;
cg4[4][8] = 0.0e0;
cg4[4][9] = t148;
cg4[4][10] = -t23;
cg4[4][11] = -t28;
cg4[5][0] = 0.0e0;
cg4[5][1] = 0.0e0;
cg4[5][2] = 0.0e0;
cg4[5][3] = 0.0e0;
cg4[5][4] = -0.100e1 * t36 - 0.10e1 * t177 * u2 - 0.10e1 * t180 * u3;
cg4[5][5] = 0.10e1 * t10 * u2 - 0.10e1 * t6 * u3;
cg4[5][6] = 0.0e0;
cg4[5][7] = 0.0e0;
cg4[5][8] = 0.0e0;
cg4[5][9] = -t213;
cg4[5][10] = t214;
cg4[5][11] = t215;</Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">lineToFrame := proc(frame::Vector(6), l::Vector(6))::Vector(6);
return MatrixVectorMultiply(eulerToInvML(frame), l);
end proc;</Text-field></Input><Output><Text-field layout="Maple Output" style="2D Output"><Equation style="2D Output">NiM+SSxsaW5lVG9GcmFtZUc2ImYrNiQnSSZmcmFtZUdGJS1JJ1ZlY3Rvckc2JEkqcHJvdGVjdGVkR0YtSShfc3lzbGliR0YlNiMiIicnSSJsR0YlRipGJUYlRiVPLV9JLkxpbmVhckFsZ2VicmFHRixJNU1hdHJpeFZlY3Rvck11bHRpcGx5R0YlNiQtSS1ldWxlclRvSW52TUxHRiU2IzkkOSVGJUYlRiVGKg==</Equation></Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">C(lineToFrame(&lt;x,y,z,yaw,pitch,roll&gt;, &lt;n1,n2,n3,u1,u2,u3&gt;), optimize);</Text-field></Input><Output><Text-field layout="Normal" style="Line Printed Output">t1 = cos(yaw);
t2 = cos(pitch);
t3 = t1 * t2;
t6 = sin(yaw);
t7 = t6 * t2;
t10 = sin(pitch);
t13 = t1 * t10;
t14 = cos(roll);
t16 = sin(roll);
t19 = t13 * t14 + 0.10e1 * t6 * t16;
t21 = t6 * t10;
t25 = t21 * t14 - 0.10e1 * t1 * t16;
t27 = t2 * t14;
t30 = t19 * x + t25 * y + 0.10e1 * t27 * z;
t34 = t13 * t16 - 0.10e1 * t6 * t14;
t40 = t21 * t16 + 0.10e1 * t1 * t14;
t42 = t2 * t16;
t45 = -t34 * x - t40 * y - 0.10e1 * t42 * z;
t75 = 0.10e1 * t3 * x + 0.10e1 * t7 * y - 0.100e1 * t10 * z;
cg[0] = 0.10e1 * t3 * n1 + 0.10e1 * t7 * n2 - 0.100e1 * t10 * n3 + (t30 * t34 + t45 * t19) * u1 + (t30 * t40 + t45 * t25) * u2 + (0.10e1 * t30 * t2 * t16 + 0.10e1 * t45 * t2 * t14) * u3;
cg[1] = t34 * n1 + t40 * n2 + 0.10e1 * t42 * n3 + (-0.10e1 * t30 * t1 * t2 + t75 * t19) * u1 + (-0.10e1 * t30 * t6 * t2 + t75 * t25) * u2 + (0.100e1 * t30 * t10 + 0.10e1 * t75 * t2 * t14) * u3;
cg[2] = t19 * n1 + t25 * n2 + 0.10e1 * t27 * n3 + (-0.10e1 * t45 * t1 * t2 - t75 * t34) * u1 + (-0.10e1 * t45 * t6 * t2 - t75 * t40) * u2 + (0.100e1 * t45 * t10 - 0.10e1 * t75 * t2 * t16) * u3;
cg[3] = 0.10e1 * t3 * u1 + 0.10e1 * t7 * u2 - 0.100e1 * t10 * u3;
cg[4] = t34 * u1 + t40 * u2 + 0.10e1 * t42 * u3;
cg[5] = t19 * u1 + t25 * u2 + 0.10e1 * t27 * u3;</Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">lineToFrameJac := Jacobian(lineToFrame(&lt;x,y,z,yaw,pitch,roll&gt;, &lt;n1,n2,n3,u1,u2,u3&gt;), [x,y,z,yaw,pitch,roll,n1,n2,n3,u1,u2,u3]);</Text-field></Input><Output><Text-field layout="Maple Output" style="2D Output"><Equation style="2D Output">NiM+SS9saW5lVG9GcmFtZUphY0c2Ii1JJ1JUQUJMRUdGJTYrIip3MzVtIkkpYW55dGhpbmdHSSpwcm90ZWN0ZWRHRitJJ01hdHJpeEc2JEYrSShfc3lzbGliR0YlSSxyZWN0YW5ndWxhckdGJUkuRm9ydHJhbl9vcmRlckdGJTciIiIjOyIiIiIiJztGNCIjNw==</Equation></Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">C(lineToFrameJac, deducetypes=false ,optimize);</Text-field></Input><Output><Text-field layout="Normal" style="Line Printed Output">t1 = cos(yaw);
t2 = sin(pitch);
t3 = t1 * t2;
t4 = sin(roll);
t6 = sin(yaw);
t7 = cos(roll);
t10 = t3 * t4 - 0.10e1 * t6 * t7;
t14 = t3 * t7 + 0.10e1 * t6 * t4;
t19 = t6 * t2;
t23 = t19 * t4 + 0.10e1 * t1 * t7;
t28 = t19 * t7 - 0.10e1 * t1 * t4;
t32 = cos(pitch);
t35 = 0.10e1 * t14 * t32 * t4;
t52 = 0.10e1 * t28 * t32 * t4;
t59 = t32 * t7;
t69 = t6 * t32;
t72 = t1 * t32;
t77 = -t28 * x + y * t14;
t83 = t14 * x + t28 * y + 0.10e1 * t59 * z;
t87 = x * t23 - y * t10;
t91 = t32 * t4;
t93 = 0.10e1 * t91 * z;
t94 = -t10 * x - t23 * y - t93;
t99 = t83 * t10;
t101 = t94 * t14;
t123 = t2 * t7;
t126 = t72 * t7 * x + t69 * t7 * y - 0.10e1 * t123 * z;
t128 = t83 * t1;
t134 = t2 * t4;
t137 = -t72 * t4 * x - t69 * t4 * y + 0.10e1 * t134 * z;
t144 = t83 * t6;
t154 = t83 * t2;
t168 = -t10 * x - t23 * y - t93;
t184 = t83 * t32;
t187 = -t83 * t32;
t190 = t94 * t32;
t196 = 0.10e1 * t72;
t197 = 0.10e1 * t69;
t198 = 0.100e1 * t2;
t224 = t32 * t32;
t227 = 0.100e1 * t1 * t224 * t7;
t249 = 0.100e1 * t6 * t224 * t7;
t267 = -t83 * t6;
t269 = 0.10e1 * t267 * t32;
t276 = -0.10e1 * x * t6 * t32 + 0.10e1 * y * t1 * t32;
t284 = 0.10e1 * t72 * x + 0.10e1 * t69 * y - 0.100e1 * t2 * z;
t285 = -t284 * t28;
t291 = -t83 * t1;
t293 = 0.10e1 * t291 * t32;
t295 = t284 * t14;
t323 = -0.10e1 * t3 * x - 0.10e1 * t19 * y - 0.100e1 * t32 * z;
t358 = -t284 * t10;
t364 = -t284 * t23;
t369 = t284 * t32;
t375 = 0.10e1 * t91;
t389 = 0.10e1 * t6 * t10 * t32 - 0.10e1 * t72 * t23;
t393 = t224 * t4;
t396 = -0.100e1 * t2 * t10 - 0.100e1 * t393 * t1;
t404 = -0.100e1 * t2 * t23 - 0.100e1 * t393 * t6;
t415 = -t94 * t6;
t417 = 0.10e1 * t415 * t32;
t425 = -t94 * t1;
t427 = 0.10e1 * t425 * t32;
t492 = -t284 * t32;
t498 = 0.10e1 * t59;
cg0[0][0] = (t14 * t23 - t10 * t28) * u2 + (t35 - 0.10e1 * t10 * t32 * t7) * u3;
cg0[0][1] = (t10 * t28 - t14 * t23) * u1 + (t52 - 0.10e1 * t23 * t32 * t7) * u3;
cg0[0][2] = (0.10e1 * t59 * t10 - t35) * u1 + (0.10e1 * t59 * t23 - t52) * u2;
cg0[0][3] = -0.10e1 * t69 * n1 + 0.10e1 * t72 * n2 + (t77 * t10 - t83 * t23 + t87 * t14 - t94 * t28) * u1 + (t77 * t23 + t99 + t87 * t28 + t101) * u2 + (0.10e1 * t77 * t32 * t4 + 0.10e1 * t87 * t32 * t7) * u3;
cg0[0][4] = -0.10e1 * t3 * n1 - 0.10e1 * t19 * n2 - 0.100e1 * t32 * n3 + (t126 * t10 + t128 * t91 + t137 * t14 + t94 * t1 * t59) * u1 + (t126 * t23 + t144 * t91 + t137 * t28 + t94 * t6 * t59) * u2 + (0.10e1 * t126 * t32 * t4 - 0.10e1 * t154 * t4 + 0.10e1 * t137 * t32 * t7 - 0.10e1 * t94 * t2 * t7) * u3;
cg0[0][5] = (t168 * t10 - t94 * t10) * u1 + (t168 * t23 - t94 * t23) * u2 + (0.10e1 * t168 * t32 * t4 + 0.10e1 * t184 * t7 + 0.10e1 * t187 * t7 - 0.10e1 * t190 * t4) * u3;
cg0[0][6] = t196;
cg0[0][7] = t197;
cg0[0][8] = -t198;
cg0[0][9] = t99 + t101;
cg0[0][10] = t83 * t23 + t94 * t28;
cg0[0][11] = 0.10e1 * t184 * t4 + 0.10e1 * t190 * t7;
cg0[1][0] = (-0.10e1 * t1 * t14 * t32 + 0.10e1 * t72 * t14) * u1 + (-0.10e1 * t6 * t14 * t32 + 0.10e1 * t72 * t28) * u2 + (0.100e1 * t2 * t14 + t227) * u3;
cg0[1][1] = (-0.10e1 * t28 * t1 * t32 + 0.10e1 * t69 * t14) * u1 + (-0.10e1 * t28 * t6 * t32 + 0.10e1 * t69 * t28) * u2 + (0.100e1 * t28 * t2 + t249) * u3;
cg0[1][2] = (-t227 - 0.100e1 * t2 * t14) * u1 + (-t249 - 0.100e1 * t28 * t2) * u2;
cg0[1][3] = -t23 * n1 + t10 * n2 + (-0.10e1 * t77 * t1 * t32 - t269 + t276 * t14 + t285) * u1 + (-0.10e1 * t77 * t6 * t32 + t293 + t276 * t28 + t295) * u2 + (0.100e1 * t77 * t2 + 0.10e1 * t276 * t32 * t7) * u3;
cg0[1][4] = t72 * t4 * n1 + t69 * t4 * n2 - 0.10e1 * t134 * n3 + (-0.10e1 * t126 * t1 * t32 - 0.10e1 * t291 * t2 + t323 * t14 + t284 * t1 * t59) * u1 + (-0.10e1 * t126 * t6 * t32 - 0.10e1 * t267 * t2 + t323 * t28 + t284 * t6 * t59) * u2 + (0.100e1 * t126 * t2 - 0.100e1 * t187 + 0.10e1 * t323 * t32 * t7 - 0.10e1 * t284 * t2 * t7) * u3;
cg0[1][5] = t14 * n1 + t28 * n2 + 0.10e1 * t59 * n3 + (-0.10e1 * t168 * t1 * t32 + t358) * u1 + (-0.10e1 * t168 * t6 * t32 + t364) * u2 + (0.100e1 * t168 * t2 - 0.10e1 * t369 * t4) * u3;
cg0[1][6] = t10;
cg0[1][7] = t23;
cg0[1][8] = t375;
cg0[1][9] = t293 + t295;
cg0[1][10] = t269 + t284 * t28;
cg0[1][11] = 0.100e1 * t83 * t2 + 0.10e1 * t369 * t7;
cg0[2][0] = t389 * u2 + t396 * u3;
cg0[2][1] = -t389 * u1 + t404 * u3;
cg0[2][2] = -t396 * u1 - t404 * u2;
cg0[2][3] = -t28 * n1 + t14 * n2 + (-0.10e1 * t87 * t1 * t32 - t417 - t276 * t10 + t284 * t23) * u1 + (-0.10e1 * t87 * t6 * t32 + t427 - t276 * t23 + t358) * u2 + (0.100e1 * t87 * t2 - 0.10e1 * t276 * t32 * t4) * u3;
cg0[2][4] = t72 * t7 * n1 + t69 * t7 * n2 - 0.10e1 * t123 * n3 + (-0.10e1 * t137 * t1 * t32 - 0.10e1 * t425 * t2 - t323 * t10 - t284 * t1 * t91) * u1 + (-0.10e1 * t137 * t6 * t32 - 0.10e1 * t415 * t2 - t323 * t23 - t284 * t6 * t91) * u2 + (0.100e1 * t137 * t2 + 0.100e1 * t94 * t32 - 0.10e1 * t323 * t32 * t4 + 0.10e1 * t284 * t2 * t4) * u3;
cg0[2][5] = -t10 * n1 - t23 * n2 - 0.10e1 * t91 * n3 + (0.10e1 * t128 * t32 - t284 * t14) * u1 + (0.10e1 * t144 * t32 + t285) * u2 + (-0.100e1 * t154 + 0.10e1 * t492 * t7) * u3;
cg0[2][6] = t14;
cg0[2][7] = t28;
cg0[2][8] = t498;
cg0[2][9] = t427 + t358;
cg0[2][10] = t417 + t364;
cg0[2][11] = 0.100e1 * t94 * t2 + 0.10e1 * t492 * t4;
cg0[3][0] = 0.0e0;
cg0[3][1] = 0.0e0;
cg0[3][2] = 0.0e0;
cg0[3][3] = -0.10e1 * t69 * u1 + 0.10e1 * t72 * u2;
cg0[3][4] = -0.10e1 * t3 * u1 - 0.10e1 * t19 * u2 - 0.100e1 * t32 * u3;
cg0[3][5] = 0.0e0;
cg0[3][6] = 0.0e0;
cg0[3][7] = 0.0e0;
cg0[3][8] = 0.0e0;
cg0[3][9] = t196;
cg0[3][10] = t197;
cg0[3][11] = -t198;
cg0[4][0] = 0.0e0;
cg0[4][1] = 0.0e0;
cg0[4][2] = 0.0e0;
cg0[4][3] = -t23 * u1 + t10 * u2;
cg0[4][4] = t72 * t4 * u1 + t69 * t4 * u2 - 0.10e1 * t134 * u3;
cg0[4][5] = t14 * u1 + t28 * u2 + 0.10e1 * t59 * u3;
cg0[4][6] = 0.0e0;
cg0[4][7] = 0.0e0;
cg0[4][8] = 0.0e0;
cg0[4][9] = t10;
cg0[4][10] = t23;
cg0[4][11] = t375;
cg0[5][0] = 0.0e0;
cg0[5][1] = 0.0e0;
cg0[5][2] = 0.0e0;
cg0[5][3] = -t28 * u1 + t14 * u2;
cg0[5][4] = t72 * t7 * u1 + t69 * t7 * u2 - 0.10e1 * t123 * u3;
cg0[5][5] = -t10 * u1 - t23 * u2 - 0.10e1 * t91 * u3;
cg0[5][6] = 0.0e0;
cg0[5][7] = 0.0e0;
cg0[5][8] = 0.0e0;
cg0[5][9] = t14;
cg0[5][10] = t28;
cg0[5][11] = t498;</Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">#
# odometry 3d
#</Text-field></Input></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">odo3d := proc(x::Vector(6), vw::Vector(2), dt)::Vector(6);
local odo,xOdo,Mres;
odo := VectorScalarMultiply(vw,dt);
xOdo := &lt;odo[1]*cos(odo[2]/2),odo[1]*sin(odo[2]/2),0,odo[2],0,0&gt;;</Text-field></Input><Input><Text-field prompt="&gt; " style="Maple Input">Mres := MatrixMatrixMultiply(eulerToM(x), eulerToM(xOdo));
MToEuler(Mres);
end proc;</Text-field></Input><Output><Text-field layout="Maple Output" style="2D Output"><Equation style="2D Output">NiM+SSZvZG8zZEc2ImYrNiUnSSJ4R0YlLUknVmVjdG9yR0YlNiMiIicnSSN2d0dGJS1GKzYjIiIjSSNkdEdGJTYlSSRvZG9HRiVJJXhPZG9HRiVJJU1yZXNHRiVGJUYlQyY+OCQtX0kuTGluZWFyQWxnZWJyYUc2JEkqcHJvdGVjdGVkR0Y/SShfc3lzbGliR0YlSTVWZWN0b3JTY2FsYXJNdWx0aXBseUdGJTYkOSU5Jj44JS1JJDwsPkdGJTYoKiYmRjo2IyIiIkZNLUkkY29zR0YlNiMsJCZGOkYxI0ZNRjJGTSomRktGTS1JJHNpbkdGJUZQRk0iIiFGUkZXRlc+OCYtX0Y9STVNYXRyaXhNYXRyaXhNdWx0aXBseUdGJTYkLUkpZXVsZXJUb01HRiU2IzkkLUZpbjYjRkYtSSlNVG9FdWxlckdGJTYjRllGJUYlRiVGKg==</Equation></Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">odo3d(&lt;0,0,0,0,0,0&gt;, &lt;1,0.0&gt;,1);</Text-field></Input><Output><Text-field layout="Maple Output" style="2D Output"><Equation style="2D Output">NiMtSSdSVEFCTEVHNiI2JSIqVyxHZSItSSdNQVRSSVhHRiU2IzcoNyMkIiIiIiIhNyMkRi9GL0YwRjA3IyQhIiFGL0YwJkknVmVjdG9yRzYkSSpwcm90ZWN0ZWRHRjhJKF9zeXNsaWJHRiU2I0knY29sdW1uR0Yl</Equation></Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">C(odo3d(&lt;x,y,z,yaw,pitch,roll&gt;, &lt;v,w&gt;, dt), optimize);</Text-field></Input><Output><Text-field layout="Normal" style="Line Printed Output">t1 = cos(yaw);
t2 = cos(pitch);
t3 = t1 * t2;
t4 = dt * v;
t5 = dt * w;
t6 = t5 / 0.2e1;
t7 = cos(t6);
t8 = t4 * t7;
t11 = sin(pitch);
t13 = sin(roll);
t15 = sin(yaw);
t16 = cos(roll);
t19 = t1 * t11 * t13 - 0.10e1 * t15 * t16;
t21 = sin(t6);
t22 = v * t21;
t26 = t15 * t2;
t33 = t15 * t11 * t13 + 0.10e1 * t1 * t16;
t42 = t2 * t13;
t48 = cos(t5);
t51 = sin(t5);
t60 = atan2(0.10e1 * t26 * t48 + 0.1e1 * t33 * t51, 0.10e1 * t3 * t48 + 0.1e1 * t19 * t51);
t66 = asin(-0.100e1 * t11 * t48 + 0.10e1 * t42 * t51);
t74 = atan2(0.100e1 * t11 * t51 + 0.10e1 * t42 * t48, 0.100e1 * t2 * t16);
cg[0] = 0.10e1 * t3 * t8 + t19 * dt * t22 + 0.10e1 * x;
cg[1] = 0.10e1 * t26 * t8 + t33 * dt * t22 + 0.10e1 * y;
cg[2] = -0.100e1 * t11 * dt * v * t7 + 0.10e1 * t42 * t4 * t21 + 0.10e1 * z;
cg[3] = t60;
cg[4] = -t66;
cg[5] = t74;</Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">odo3dJac := Jacobian(odo3d(&lt;x,y,z,yaw,pitch,roll&gt;, &lt;v,w&gt;, dt),[x,y,z,yaw,pitch,roll,v,w]):</Text-field></Input></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">C(odo3dJac, optimize);</Text-field></Input><Output><Text-field layout="Normal" style="Line Printed Output">t1 = sin(yaw);
t2 = cos(pitch);
t3 = t1 * t2;
t4 = dt * v;
t5 = dt * w;
t6 = t5 / 0.2e1;
t7 = cos(t6);
t8 = t4 * t7;
t11 = sin(pitch);
t12 = t1 * t11;
t13 = sin(roll);
t15 = cos(yaw);
t16 = cos(roll);
t19 = -t12 * t13 - 0.10e1 * t15 * t16;
t21 = sin(t6);
t22 = v * t21;
t25 = t15 * t11;
t28 = t15 * t2;
t30 = t4 * t21;
t36 = t25 * t16 + 0.10e1 * t1 * t13;
t39 = dt * t7;
t45 = t25 * t13 - 0.10e1 * t1 * t16;
t46 = t45 * dt;
t49 = dt * dt;
t50 = t49 * v;
t51 = t50 * t21;
t55 = v * t7;
t71 = t12 * t16 - 0.10e1 * t15 * t13;
t88 = t11 * t13;
t92 = t2 * t16;
t98 = t2 * t13;
t110 = cos(t5);
t112 = 0.10e1 * t3 * t110;
t113 = sin(t5);
t116 = t112 - 0.1e1 * t19 * t113;
t121 = 0.10e1 * t28 * t110 + 0.1e1 * t45 * t113;
t122 = t121 * t121;
t123 = 0.1e1 / t122;
t124 = t116 * t123;
t130 = t116 * t116;
t133 = 0.1e1 / (0.1e1 + t130 * t123);
t137 = t13 * t113;
t141 = 0.1e1 / t121;
t159 = t113 * dt;
t181 = t11 * t110;
t186 = pow(-0.100e1 * t181 + 0.10e1 * t98 * t113, 0.2e1);
t188 = sqrt(0.1e1 - t186);
t189 = 0.1e1 / t188;
t194 = t11 * t113;
t207 = 0.1e1 / t2;
t209 = 0.1e1 / t16;
t215 = 0.100e1 * t194 + 0.10e1 * t98 * t110;
t216 = t2 * t2;
t217 = 0.1e1 / t216;
t223 = t215 * t215;
t225 = t16 * t16;
t226 = 0.1e1 / t225;
t230 = 0.1e1 / (0.1e1 + 0.1000000000e1 * t223 * t217 * t226);
cg0[0][0] = 0.10e1;
cg0[0][1] = 0.0e0;
cg0[0][2] = 0.0e0;
cg0[0][3] = -0.10e1 * t3 * t8 + t19 * dt * t22;
cg0[0][4] = -0.10e1 * t25 * t8 + t28 * t13 * t30;
cg0[0][5] = t36 * dt * t22;
cg0[0][6] = 0.10e1 * t28 * t39 + t46 * t21;
cg0[0][7] = -0.5000000000e0 * t28 * t51 + t45 * t49 * t55 / 0.2e1;
cg0[1][0] = 0.0e0;
cg0[1][1] = 0.10e1;
cg0[1][2] = 0.0e0;
cg0[1][3] = 0.10e1 * t28 * t8 + t46 * t22;
cg0[1][4] = -0.10e1 * t12 * t8 + t3 * t13 * t30;
cg0[1][5] = t71 * dt * t22;
cg0[1][6] = 0.10e1 * t3 * t39 - t19 * dt * t21;
cg0[1][7] = -0.5000000000e0 * t3 * t51 - t19 * t49 * t55 / 0.2e1;
cg0[2][0] = 0.0e0;
cg0[2][1] = 0.0e0;
cg0[2][2] = 0.10e1;
cg0[2][3] = 0.0e0;
cg0[2][4] = -0.100e1 * t2 * dt * t55 - 0.10e1 * t88 * t30;
cg0[2][5] = 0.10e1 * t92 * t30;
cg0[2][6] = -0.100e1 * t11 * dt * t7 + 0.10e1 * t98 * dt * t21;
cg0[2][7] = 0.5000000000e0 * t11 * t49 * t22 + 0.5000000000e0 * t98 * t50 * t7;
cg0[3][0] = 0.0e0;
cg0[3][1] = 0.0e0;
cg0[3][2] = 0.0e0;
cg0[3][3] = (0.1e1 - t124 * (-t112 + 0.1e1 * t19 * t113)) * t133;
cg0[3][4] = ((-0.10e1 * t12 * t110 + 0.1e1 * t3 * t137) * t141 - t124 * (-0.10e1 * t25 * t110 + 0.1e1 * t28 * t137)) * t133;
cg0[3][5] = (0.1e1 * t71 * t113 * t141 - 0.1e1 * t124 * t36 * t113) * t133;
cg0[3][6] = 0.0e0;
cg0[3][7] = ((-0.10e1 * t3 * t159 - 0.1e1 * t19 * t110 * dt) * t141 - t124 * (-0.10e1 * t28 * t159 + 0.1e1 * t45 * t110 * dt)) * t133;
cg0[4][0] = 0.0e0;
cg0[4][1] = 0.0e0;
cg0[4][2] = 0.0e0;
cg0[4][3] = 0.0e0;
cg0[4][4] = -(-0.100e1 * t2 * t110 - 0.10e1 * t88 * t113) * t189;
cg0[4][5] = -0.10e1 * t92 * t113 * t189;
cg0[4][6] = 0.0e0;
cg0[4][7] = -(0.100e1 * t194 * dt + 0.10e1 * t98 * t110 * dt) * t189;
cg0[5][0] = 0.0e0;
cg0[5][1] = 0.0e0;
cg0[5][2] = 0.0e0;
cg0[5][3] = 0.0e0;
cg0[5][4] = (0.1000000000e1 * (0.100e1 * t2 * t113 - 0.10e1 * t88 * t110) * t207 * t209 + 0.1000000000e1 * t215 * t217 * t209 * t11) * t230;
cg0[5][5] = (0.1000000000e1 * t110 + 0.1000000000e1 * t215 * t207 * t226 * t13) * t230;
cg0[5][6] = 0.0e0;
cg0[5][7] = 0.1000000000e1 * (0.100e1 * t181 * dt - 0.10e1 * t98 * t159) * t207 * t209 * t230;</Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">#
# odometry 3D in reference frame
#</Text-field></Input></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">odo3dInRefRame := proc(robotToRef::Vector(6), x::Vector(6), vw::Vector(2), dt)::Vector(6);
local x_robot::Vector(6), x_res_robot::Vector(6), M_robotToRef::Matrix(4,4), M_res::Matrix(4,4);
M_robotToRef := eulerToM(robotToRef);
x_robot := MToEuler(MatrixMatrixMultiply(eulerToM(x), invM(M_robotToRef)));
x_res_robot := odo3d(x_robot, vw, dt);
M_res := MatrixMatrixMultiply(eulerToM(x_res_robot), M_robotToRef);
MToEuler(M_res);
end proc;</Text-field></Input><Output><Text-field layout="Maple Output" style="2D Output"><Equation style="2D Output">NiM+SS9vZG8zZEluUmVmUmFtZUc2ImYrNiYnSStyb2JvdFRvUmVmR0YlLUknVmVjdG9yRzYkSSpwcm90ZWN0ZWRHRi1JKF9zeXNsaWJHRiU2IyIiJydJInhHRiVGKidJI3Z3R0YlLUYrNiMiIiNJI2R0R0YlNiYnSSh4X3JvYm90R0YlRionSSx4X3Jlc19yb2JvdEdGJUYqJ0ktTV9yb2JvdFRvUmVmR0YlLUknTWF0cml4R0YsNiQiIiVGQydJJk1fcmVzR0YlRkBGJUYlQyc+OCYtSSlldWxlclRvTUdGJTYjOSQ+OCQtSSlNVG9FdWxlckdGJTYjLV9JLkxpbmVhckFsZ2VicmFHRixJNU1hdHJpeE1hdHJpeE11bHRpcGx5R0YlNiQtRko2IzklLUklaW52TUdGJTYjRkg+OCUtSSZvZG8zZEdGJTYlRk45JjknPjgnLUZTNiQtRko2I0ZobkZILUZQNiNGX29GJUYlRiVGKg==</Equation></Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">odo3dInRefRame(&lt;0,0,10,Pi/2,0,0&gt;, &lt;0,0,0,0,0,0&gt;, &lt;1,0&gt;, 1);</Text-field></Input><Output><Text-field layout="Maple Output" style="2D Output"><Equation style="2D Output">NiMtSSdSVEFCTEVHNiI2JSIqQy1HZSItSSdNQVRSSVhHRiU2IzcoNyMkITMzKysrM1EuXj8hI0Y3IyQhIiIiIiE3IyRGM0YzNyMkISszUS5ePyEjPjcjJCEiIUYzRjQmSSdWZWN0b3JHNiRJKnByb3RlY3RlZEdGQEkoX3N5c2xpYkdGJTYjSSdjb2x1bW5HRiU=</Equation></Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">C(odo3dInRefRame(&lt;0, 0, 0, yaw_robotToRef, 0, 0&gt;, &lt;x,y,z,yaw,pitch,roll&gt;, &lt;v,w&gt;, dt), optimize, deducetypes=false);</Text-field></Input><Output><Text-field layout="Normal" style="Line Printed Output">t1 = cos(yaw);
t2 = cos(pitch);
t4 = cos(yaw_robotToRef);
t7 = sin(pitch);
t9 = sin(roll);
t11 = sin(yaw);
t12 = cos(roll);
t16 = sin(yaw_robotToRef);
t19 = 0.10e1 * t1 * t2 * t4 - 0.1e1 * (t1 * t7 * t9 - 0.10e1 * t11 * t12) * t16;
t30 = 0.10e1 * t11 * t2 * t4 - 0.1e1 * (t11 * t7 * t9 + 0.10e1 * t1 * t12) * t16;
t31 = t30 * t30;
t32 = t19 * t19;
t34 = sqrt(t31 + t32);
t35 = 0.1e1 / t34;
t36 = t19 * t35;
t37 = t7 * t4;
t39 = t2 * t9;
t40 = t39 * t16;
t42 = 0.100e1 * t37 + 0.10e1 * t40;
t43 = t42 * t42;
t44 = 0.1e1 - t43;
t45 = sqrt(t44);
t47 = dt * v;
t48 = dt * w;
t49 = t48 / 0.2e1;
t50 = cos(t49);
t51 = t47 * t50;
t58 = -0.100e1 * t7 * t16 + 0.10e1 * t39 * t4;
t60 = t58 * t58;
t61 = t2 * t2;
t62 = t12 * t12;
t65 = t60 + 0.10000e1 * t61 * t62;
t66 = sqrt(t65);
t67 = 0.1e1 / t66;
t68 = t42 * t58 * t67;
t70 = t30 * t35;
t71 = t2 * t12;
t72 = t71 * t67;
t75 = t36 * t68 - 0.1000e1 * t70 * t72;
t77 = sin(t49);
t78 = v * t77;
t89 = t70 * t68 + 0.1000e1 * t36 * t72;
t97 = -0.10000e1 * t37 - 0.1000e1 * t40;
t102 = t45 * t58;
t109 = cos(t48);
t110 = t45 * t109;
t113 = sin(t48);
t116 = 0.10e1 * t70 * t110 + 0.1e1 * t89 * t113;
t117 = t116 * t116;
t122 = 0.10e1 * t36 * t110 + 0.1e1 * t75 * t113;
t123 = t122 * t122;
t125 = sqrt(t117 + t123);
t126 = 0.1e1 / t125;
t127 = t116 * t126;
t128 = t97 * t109;
t131 = t102 * t67 * t113;
t133 = 0.1e1 * t128 + 0.10e1 * t131;
t134 = t133 * t133;
t136 = sqrt(0.1e1 - t134);
t137 = t136 * t4;
t145 = -0.1e1 * t97 * t113 + 0.10e1 * t102 * t67 * t109;
t147 = t145 * t145;
t154 = sqrt(t147 + 0.100000000e1 * t44 * t61 * t62 / t65);
t155 = 0.1e1 / t154;
t156 = -t133 * t145 * t155;
t158 = t122 * t126;
t161 = t71 * t67 * t155;
t178 = atan2(0.10e1 * t127 * t137 + 0.1e1 * (t127 * t156 + 0.100000e1 * t158 * t45 * t161) * t16, 0.10e1 * t158 * t137 + 0.1e1 * (t158 * t156 - 0.100000e1 * t127 * t45 * t161) * t16);
t181 = 0.100e1 * t128 + 0.1000e1 * t131;
t184 = t136 * t145;
t189 = asin(0.1e1 * t181 * t4 + 0.10e1 * t184 * t155 * t16);
t202 = atan2(-0.1e1 * t181 * t16 + 0.10e1 * t184 * t155 * t4, 0.1000000e1 * t136 * t45 * t2 * t12 * t67 * t155);
cg2[0] = 0.100e1 * t36 * t45 * t51 + 0.10e1 * t75 * dt * t78 + 0.1000e1 * x;
cg2[1] = 0.100e1 * t70 * t45 * t51 + 0.10e1 * t89 * dt * t78 + 0.1000e1 * y;
cg2[2] = 0.10e1 * t97 * dt * v * t50 + 0.100e1 * t102 * t67 * t47 * t77 + 0.1000e1 * z;
cg2[3] = t178;
cg2[4] = -t189;
cg2[5] = t202;</Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">odo3dInRefRameJac:=Jacobian(odo3dInRefRame(&lt;0, 0, 0, yaw_robotToRef, 0, 0&gt;, &lt;x,y,z,yaw,pitch,roll&gt;, &lt;v,w&gt;, dt),[x,y,z,yaw,pitch,roll,v,w]):</Text-field></Input></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">C(odo3dInRefRameJac, optimize, deducetypes=false);</Text-field></Input><Output><Text-field layout="Normal" style="Line Printed Output">t1 = sin(yaw);
t2 = cos(pitch);
t3 = t1 * t2;
t4 = cos(yaw_robotToRef);
t6 = 0.10e1 * t3 * t4;
t7 = sin(pitch);
t8 = t1 * t7;
t9 = sin(roll);
t11 = cos(yaw);
t12 = cos(roll);
t15 = -t8 * t9 - 0.10e1 * t11 * t12;
t16 = sin(yaw_robotToRef);
t19 = -t6 - 0.1e1 * t15 * t16;
t22 = t6 + 0.1e1 * t15 * t16;
t23 = t22 * t22;
t24 = t11 * t2;
t27 = t11 * t7;
t34 = 0.10e1 * t24 * t4 - 0.1e1 * (t27 * t9 - 0.10e1 * t1 * t12) * t16;
t35 = t34 * t34;
t36 = t23 + t35;
t37 = sqrt(t36);
t38 = 0.1e1 / t37;
t39 = t19 * t38;
t40 = t7 * t4;
t42 = t2 * t9;
t43 = t42 * t16;
t45 = 0.100e1 * t40 + 0.10e1 * t43;
t46 = t45 * t45;
t47 = 0.1e1 - t46;
t48 = sqrt(t47);
t50 = dt * v;
t51 = dt * w;
t52 = t51 / 0.2e1;
t53 = cos(t52);
t54 = t50 * t53;
t58 = 0.1e1 / t37 / t36;
t59 = t34 * t58;
t60 = t59 * t48;
t63 = t22 * t34 + t34 * t19;
t65 = 0.2e1 * t50 * t53 * t63;
t72 = -0.100e1 * t7 * t16 + 0.10e1 * t42 * t4;
t74 = t72 * t72;
t75 = t2 * t2;
t76 = t12 * t12;
t77 = t75 * t76;
t79 = t74 + 0.10000e1 * t77;
t80 = sqrt(t79);
t81 = 0.1e1 / t80;
t82 = t45 * t72 * t81;
t84 = t59 * t45;
t85 = t72 * t81;
t86 = 0.2e1 * t85 * t63;
t89 = t34 * t38;
t90 = t2 * t12;
t91 = t90 * t81;
t93 = 0.1000e1 * t89 * t91;
t94 = t22 * t58;
t95 = t94 * t2;
t96 = t12 * t81;
t97 = 0.2e1 * t96 * t63;
t100 = t39 * t82 - t84 * t86 / 0.2e1 - t93 + 0.5000000000e0 * t95 * t97;
t102 = sin(t52);
t103 = v * t102;
t109 = t9 * t16;
t112 = -0.10e1 * t27 * t4 - 0.1e1 * t24 * t109;
t113 = t112 * t38;
t121 = -0.10e1 * t8 * t4 - 0.1e1 * t3 * t109;
t124 = t22 * t121 + t34 * t112;
t126 = 0.2e1 * t50 * t53 * t124;
t129 = 0.1e1 / t48;
t130 = t129 * dt;
t132 = v * t53;
t133 = t2 * t4;
t135 = t7 * t9;
t136 = t135 * t16;
t138 = 0.100e1 * t133 - 0.10e1 * t136;
t139 = t45 * t138;
t140 = t132 * t139;
t144 = 0.2e1 * t85 * t124;
t148 = t138 * t72 * t81;
t154 = -0.100e1 * t2 * t16 - 0.10e1 * t135 * t4;
t156 = t45 * t154 * t81;
t158 = t89 * t45;
t160 = 0.1e1 / t80 / t79;
t161 = t72 * t160;
t167 = 0.2e1 * t72 * t154 - 0.20000e1 * t2 * t76 * t7;
t168 = t161 * t167;
t171 = t121 * t38;
t174 = 0.2e1 * t96 * t124;
t177 = t22 * t38;
t178 = t7 * t12;
t179 = t178 * t81;
t182 = t177 * t2;
t183 = t12 * t160;
t184 = t183 * t167;
t187 = t113 * t82 - t84 * t144 / 0.2e1 + t89 * t148 + t89 * t156 - t158 * t168 / 0.2e1 - 0.1000e1 * t171 * t91 + 0.5000000000e0 * t95 * t174 + 0.1000e1 * t177 * t179 + 0.5000000000e0 * t182 * t184;
t195 = t27 * t12 + 0.10e1 * t1 * t9;
t196 = t195 * t16;
t197 = t196 * t38;
t198 = t48 * dt;
t199 = t198 * t132;
t205 = t8 * t12 - 0.10e1 * t11 * t9;
t212 = -0.2e1 * t22 * t205 * t16 - 0.2e1 * t34 * t195 * t16;
t214 = t50 * t53 * t212;
t217 = t130 * v;
t220 = t90 * t16;
t221 = t53 * t45 * t220;
t226 = t85 * t212;
t229 = t89 * t2;
t230 = t12 * t16;
t231 = t230 * t85;
t234 = t4 * t81;
t235 = t90 * t234;
t239 = t12 * t4;
t245 = 0.20e1 * t72 * t2 * t239 - 0.20000e1 * t75 * t12 * t9;
t246 = t161 * t245;
t249 = t205 * t16;
t250 = t249 * t38;
t253 = t96 * t212;
t256 = t42 * t81;
t259 = t183 * t245;
t262 = -0.1e1 * t197 * t82 - t84 * t226 / 0.2e1 + 0.10e1 * t229 * t231 + 0.10e1 * t158 * t235 - t158 * t246 / 0.2e1 + 0.1000e1 * t250 * t91 + 0.5000000000e0 * t95 * t253 + 0.1000e1 * t177 * t256 + 0.5000000000e0 * t182 * t259;
t267 = t198 * t53;
t270 = t89 * t82;
t273 = t270 - 0.1000e1 * t177 * t91;
t278 = t89 * t48;
t279 = dt * dt;
t280 = t279 * v;
t281 = t280 * t102;
t290 = t94 * t48;
t293 = t94 * t45;
t298 = t59 * t2;
t301 = t270 - t293 * t86 / 0.2e1 + 0.1000e1 * t39 * t91 - 0.5000000000e0 * t298 * t97;
t319 = t177 * t45;
t330 = t171 * t82 - t293 * t144 / 0.2e1 + t177 * t148 + t177 * t156 - t319 * t168 / 0.2e1 + 0.1000e1 * t113 * t91 - 0.5000000000e0 * t298 * t174 - 0.1000e1 * t89 * t179 - 0.5000000000e0 * t229 * t184;
t360 = -0.1e1 * t250 * t82 - t293 * t226 / 0.2e1 + 0.10e1 * t182 * t231 + 0.10e1 * t319 * t235 - t319 * t246 / 0.2e1 - 0.1000e1 * t197 * t91 - 0.5000000000e0 * t298 * t253 - 0.1000e1 * t89 * t256 - 0.5000000000e0 * t229 * t259;
t368 = t177 * t82 + t93;
t382 = -0.10000e1 * t133 + 0.1000e1 * t136;
t386 = t129 * t72;
t387 = t81 * dt;
t392 = t48 * t154;
t397 = t48 * t72;
t398 = t397 * t160;
t412 = t48 * t2;
t424 = -0.10000e1 * t40 - 0.1000e1 * t43;
t440 = cos(t51);
t441 = t48 * t440;
t443 = 0.10e1 * t89 * t441;
t444 = 0.2e1 * t441 * t63;
t447 = sin(t51);
t450 = t443 - 0.5000000000e0 * t94 * t444 + 0.1e1 * t301 * t447;
t455 = 0.10e1 * t177 * t441 + 0.1e1 * t368 * t447;
t456 = t455 * t455;
t459 = t443 + 0.1e1 * t273 * t447;
t460 = t459 * t459;
t461 = t456 + t460;
t462 = sqrt(t461);
t463 = 0.1e1 / t462;
t464 = t450 * t463;
t465 = t424 * t440;
t467 = t81 * t447;
t468 = t397 * t467;
t470 = 0.1e1 * t465 + 0.10e1 * t468;
t471 = t470 * t470;
t472 = 0.1e1 - t471;
t473 = sqrt(t472);
t474 = t473 * t4;
t478 = 0.1e1 / t462 / t461;
t479 = t455 * t478;
t487 = 0.10e1 * t39 * t441 - 0.5000000000e0 * t59 * t444 + 0.1e1 * t100 * t447;
t489 = t455 * t450 + t459 * t487;
t490 = 0.2e1 * t474 * t489;
t493 = t424 * t447;
t495 = t81 * t440;
t498 = -0.1e1 * t493 + 0.10e1 * t397 * t495;
t500 = t498 * t498;
t501 = t47 * t75;
t502 = 0.1e1 / t79;
t503 = t76 * t502;
t506 = t500 + 0.100000000e1 * t501 * t503;
t507 = sqrt(t506);
t508 = 0.1e1 / t507;
t509 = -t470 * t498 * t508;
t511 = -t479 * t470;
t512 = t498 * t508;
t513 = 0.2e1 * t512 * t489;
t516 = t487 * t463;
t518 = t81 * t508;
t519 = t90 * t518;
t522 = t459 * t478;
t523 = t522 * t412;
t525 = 0.2e1 * t96 * t508 * t489;
t532 = t459 * t463;
t536 = t455 * t463;
t537 = t536 * t48;
t543 = 0.10e1 * t532 * t474 + 0.1e1 * (t532 * t509 - 0.100000e1 * t537 * t519) * t16;
t544 = 0.1e1 / t543;
t549 = t532 * t48;
t555 = 0.10e1 * t536 * t474 + 0.1e1 * (t536 * t509 + 0.100000e1 * t549 * t519) * t16;
t556 = t543 * t543;
t557 = 0.1e1 / t556;
t558 = t555 * t557;
t564 = -t522 * t470;
t570 = t479 * t412;
t579 = t555 * t555;
t582 = 0.1e1 / (0.1e1 + t579 * t557);
t586 = 0.2e1 * t441 * t124;
t591 = t440 * t45 * t138;
t596 = 0.10e1 * t171 * t441 - 0.5000000000e0 * t94 * t586 - 0.10e1 * t177 * t129 * t591 + 0.1e1 * t330 * t447;
t597 = t596 * t463;
t610 = 0.10e1 * t113 * t441 - 0.5000000000e0 * t59 * t586 - 0.10e1 * t89 * t129 * t591 + 0.1e1 * t187 * t447;
t612 = t455 * t596 + t459 * t610;
t613 = 0.2e1 * t474 * t612;
t616 = 0.1e1 / t473;
t617 = t536 * t616;
t618 = t4 * t470;
t619 = t382 * t440;
t621 = t386 * t81;
t624 = t621 * t447 * t45 * t138;
t626 = t392 * t467;
t628 = t160 * t447;
t631 = 0.5000000000e0 * t397 * t628 * t167;
t632 = 0.1e1 * t619 - 0.10e1 * t624 + 0.10e1 * t626 - t631;
t633 = t618 * t632;
t637 = 0.2e1 * t512 * t612;
t641 = -t632 * t498 * t508;
t649 = t160 * t440;
t653 = -0.1e1 * t382 * t447 - 0.10e1 * t621 * t591 + 0.10e1 * t392 * t495 - 0.5000000000e0 * t397 * t649 * t167;
t655 = -t470 * t653 * t508;
t657 = -t536 * t470;
t659 = 0.1e1 / t507 / t506;
t660 = t498 * t659;
t670 = t79 * t79;
t672 = t76 / t670;
t676 = 0.2e1 * t498 * t653 - 0.200000000e1 * t139 * t77 * t502 - 0.200000000e1 * t47 * t2 * t503 * t7 - 0.100000000e1 * t501 * t672 * t167;
t677 = t660 * t676;
t680 = t610 * t463;
t685 = 0.2e1 * t96 * t508 * t612;
t688 = t129 * t2;
t690 = t508 * t45;
t692 = t96 * t690 * t138;
t695 = t178 * t518;
t698 = t532 * t412;
t700 = t183 * t508 * t167;
t704 = t96 * t659 * t676;
t707 = t597 * t509 - t511 * t637 / 0.2e1 + t536 * t641 + t536 * t655 - t657 * t677 / 0.2e1 + 0.100000e1 * t680 * t48 * t519 - 0.5000000000e0 * t523 * t685 - 0.100000e1 * t532 * t688 * t692 - 0.100000e1 * t549 * t695 - 0.5000000000e0 * t698 * t700 - 0.5000000000e0 * t698 * t704;
t716 = t532 * t616;
t724 = -t532 * t470;
t737 = t536 * t412;
t742 = t680 * t509 - t564 * t637 / 0.2e1 + t532 * t641 + t532 * t655 - t724 * t677 / 0.2e1 - 0.100000e1 * t597 * t48 * t519 + 0.5000000000e0 * t570 * t685 + 0.100000e1 * t536 * t688 * t692 + 0.100000e1 * t537 * t695 + 0.5000000000e0 * t737 * t700 + 0.5000000000e0 * t737 * t704;
t750 = t38 * t48 * t440;
t753 = t441 * t212;
t756 = t129 * t440;
t759 = t45 * t2 * t230;
t764 = -0.10e1 * t249 * t750 - 0.5000000000e0 * t94 * t753 - 0.1000000000e1 * t177 * t756 * t759 + 0.1e1 * t360 * t447;
t765 = t764 * t463;
t778 = -0.10e1 * t196 * t750 - 0.5000000000e0 * t59 * t753 - 0.1000000000e1 * t89 * t756 * t759 + 0.1e1 * t262 * t447;
t780 = t455 * t764 + t459 * t778;
t781 = 0.2e1 * t474 * t780;
t785 = t90 * t16 * t440;
t789 = 0.1000000000e1 * t386 * t467 * t759;
t790 = t412 * t12;
t792 = t790 * t234 * t447;
t796 = 0.5000000000e0 * t397 * t628 * t245;
t797 = -0.1000e1 * t785 - t789 + 0.100e1 * t792 - t796;
t798 = t618 * t797;
t802 = 0.2e1 * t512 * t780;
t806 = -t797 * t498 * t508;
t820 = 0.1000e1 * t90 * t16 * t447 - 0.1000000000e1 * t386 * t495 * t759 + 0.100e1 * t790 * t234 * t440 - 0.5000000000e0 * t397 * t649 * t245;
t822 = -t470 * t820 * t508;
t840 = 0.2e1 * t498 * t820 - 0.2000000000e1 * t45 * t75 * t2 * t76 * t12 * t16 * t502 - 0.200000000e1 * t501 * t12 * t502 * t9 - 0.100000000e1 * t501 * t672 * t245;
t841 = t660 * t840;
t844 = t778 * t463;
t849 = 0.2e1 * t96 * t508 * t780;
t852 = t129 * t75;
t856 = t76 * t81 * t690 * t16;
t859 = t42 * t518;
t863 = t183 * t508 * t245;
t867 = t96 * t659 * t840;
t870 = t765 * t509 - t511 * t802 / 0.2e1 + t536 * t806 + t536 * t822 - t657 * t841 / 0.2e1 + 0.100000e1 * t844 * t48 * t519 - 0.5000000000e0 * t523 * t849 - 0.1000000000e1 * t532 * t852 * t856 - 0.100000e1 * t549 * t859 - 0.5000000000e0 * t698 * t863 - 0.5000000000e0 * t698 * t867;
t902 = t844 * t509 - t564 * t802 / 0.2e1 + t532 * t806 + t532 * t822 - t724 * t841 / 0.2e1 - 0.100000e1 * t765 * t48 * t519 + 0.5000000000e0 * t570 * t849 + 0.1000000000e1 * t536 * t852 * t856 + 0.100000e1 * t537 * t859 + 0.5000000000e0 * t737 * t863 + 0.5000000000e0 * t737 * t867;
t910 = t48 * t447 * dt;
t916 = -0.10e1 * t177 * t910 + 0.1e1 * t368 * t440 * dt;
t917 = t916 * t463;
t926 = -0.10e1 * t89 * t910 + 0.1e1 * t273 * t440 * dt;
t928 = t455 * t916 + t459 * t926;
t929 = 0.2e1 * t474 * t928;
t932 = t493 * dt;
t935 = t397 * t495 * dt;
t937 = -0.1e1 * t932 + 0.10e1 * t935;
t938 = t618 * t937;
t942 = 0.2e1 * t512 * t928;
t946 = -t937 * t498 * t508;
t953 = -0.1e1 * t465 * dt - 0.10e1 * t397 * t467 * dt;
t955 = -t470 * t953 * t508;
t958 = t500 * t659 * t953;
t960 = t926 * t463;
t965 = 0.2e1 * t96 * t508 * t928;
t969 = t96 * t660 * t953;
t1006 = 0.100e1 * t619 - 0.1000e1 * t624 + 0.1000e1 * t626 - t631;
t1010 = t616 * t498 * t508;
t1011 = t16 * t470;
t1015 = t473 * t653;
t1016 = t508 * t16;
t1019 = t473 * t498;
t1020 = t659 * t16;
t1027 = 0.100e1 * t465 + 0.1000e1 * t468;
t1033 = pow(0.1e1 * t1027 * t4 + 0.10e1 * t1019 * t1016, 0.2e1);
t1035 = sqrt(0.1e1 - t1033);
t1036 = 0.1e1 / t1035;
t1040 = -0.100000e1 * t785 - t789 + 0.10000e1 * t792 - t796;
t1046 = t473 * t820;
t1056 = -0.100e1 * t932 + 0.1000e1 * t935;
t1062 = t473 * t953;
t1065 = t473 * t500;
t1075 = t508 * t4;
t1078 = t659 * t4;
t1085 = 0.1e1 / t2;
t1086 = 0.1e1 / t12;
t1088 = t80 * t507;
t1089 = t1085 * t1086 * t1088;
t1096 = -0.1e1 * t1027 * t16 + 0.10e1 * t1019 * t1075;
t1100 = t129 * t1085;
t1101 = t1096 / t473 / t472 * t1100;
t1102 = t1086 * t80;
t1103 = t507 * t470;
t1108 = t1096 * t616;
t1110 = 0.1e1 / t48 / t47;
t1118 = 0.1e1 / t75;
t1125 = t1108 * t1100;
t1126 = t1086 * t81;
t1136 = t1096 * t1096;
t1141 = 0.1e1 / t76;
t1148 = 0.1e1 / (0.1e1 + 0.1000000000e1 * t1136 / t472 / t47 * t1118 * t1141 * t79 * t506);
cg[0][0] = 0.1000e1;
cg[0][1] = 0.0e0;
cg[0][2] = 0.0e0;
cg[0][3] = 0.100e1 * t39 * t48 * t54 - 0.5000000000e0 * t60 * t65 + 0.10e1 * t100 * dt * t103;
cg[0][4] = 0.100e1 * t113 * t48 * t54 - 0.5000000000e0 * t60 * t126 - 0.100e1 * t89 * t130 * t140 + 0.10e1 * t187 * dt * t103;
cg[0][5] = -0.100e1 * t197 * t199 - 0.5000000000e0 * t60 * t214 - 0.1000000000e1 * t89 * t217 * t221 + 0.10e1 * t262 * dt * t103;
cg[0][6] = 0.100e1 * t89 * t267 + 0.10e1 * t273 * dt * t102;
cg[0][7] = -0.5000000000e0 * t278 * t281 + 0.5000000000e0 * t273 * t279 * t132;
cg[1][0] = 0.0e0;
cg[1][1] = 0.1000e1;
cg[1][2] = 0.0e0;
cg[1][3] = 0.100e1 * t278 * t54 - 0.5000000000e0 * t290 * t65 + 0.10e1 * t301 * dt * t103;
cg[1][4] = 0.100e1 * t171 * t48 * t54 - 0.5000000000e0 * t290 * t126 - 0.100e1 * t177 * t130 * t140 + 0.10e1 * t330 * dt * t103;
cg[1][5] = -0.100e1 * t250 * t199 - 0.5000000000e0 * t290 * t214 - 0.1000000000e1 * t177 * t217 * t221 + 0.10e1 * t360 * dt * t103;
cg[1][6] = 0.100e1 * t177 * t267 + 0.10e1 * t368 * dt * t102;
cg[1][7] = -0.5000000000e0 * t177 * t48 * t281 + 0.5000000000e0 * t368 * t279 * t132;
cg[2][0] = 0.0e0;
cg[2][1] = 0.0e0;
cg[2][2] = 0.1000e1;
cg[2][3] = 0.0e0;
cg[2][4] = 0.10e1 * t382 * dt * t132 - 0.100e1 * t386 * t387 * t103 * t139 + 0.100e1 * t392 * t81 * t50 * t102 - 0.5000000000e0 * t398 * t50 * t102 * t167;
cg[2][5] = -0.10000e1 * t220 * t54 - 0.1000000000e1 * t386 * t387 * v * t102 * t45 * t220 + 0.1000e1 * t412 * t239 * t387 * t103 - 0.5000000000e0 * t398 * t50 * t102 * t245;
cg[2][6] = 0.10e1 * t424 * dt * t53 + 0.100e1 * t397 * t387 * t102;
cg[2][7] = -0.5000000000e0 * t424 * t279 * t103 + 0.5000000000e0 * t397 * t81 * t280 * t53;
cg[3][0] = 0.0e0;
cg[3][1] = 0.0e0;
cg[3][2] = 0.0e0;
cg[3][3] = ((0.10e1 * t464 * t474 - 0.5000000000e0 * t479 * t490 + 0.1e1 * (t464 * t509 - t511 * t513 / 0.2e1 + 0.100000e1 * t516 * t48 * t519 - 0.5000000000e0 * t523 * t525) * t16) * t544 - t558 * (0.10e1 * t516 * t474 - 0.5000000000e0 * t522 * t490 + 0.1e1 * (t516 * t509 - t564 * t513 / 0.2e1 - 0.100000e1 * t464 * t48 * t519 + 0.5000000000e0 * t570 * t525) * t16)) * t582;
cg[3][4] = ((0.10e1 * t597 * t474 - 0.5000000000e0 * t479 * t613 - 0.10e1 * t617 * t633 + 0.1e1 * t707 * t16) * t544 - t558 * (0.10e1 * t680 * t474 - 0.5000000000e0 * t522 * t613 - 0.10e1 * t716 * t633 + 0.1e1 * t742 * t16)) * t582;
cg[3][5] = ((0.10e1 * t765 * t474 - 0.5000000000e0 * t479 * t781 - 0.10e1 * t617 * t798 + 0.1e1 * t870 * t16) * t544 - t558 * (0.10e1 * t844 * t474 - 0.5000000000e0 * t522 * t781 - 0.10e1 * t716 * t798 + 0.1e1 * t902 * t16)) * t582;
cg[3][6] = 0.0e0;
cg[3][7] = ((0.10e1 * t917 * t474 - 0.5000000000e0 * t479 * t929 - 0.10e1 * t617 * t938 + 0.1e1 * (t917 * t509 - t511 * t942 / 0.2e1 + t536 * t946 + t536 * t955 - t657 * t958 + 0.100000e1 * t960 * t48 * t519 - 0.5000000000e0 * t523 * t965 - 0.100000e1 * t698 * t969) * t16) * t544 - t558 * (0.10e1 * t960 * t474 - 0.5000000000e0 * t522 * t929 - 0.10e1 * t716 * t938 + 0.1e1 * (t960 * t509 - t564 * t942 / 0.2e1 + t532 * t946 + t532 * t955 - t724 * t958 - 0.100000e1 * t917 * t48 * t519 + 0.5000000000e0 * t570 * t965 + 0.100000e1 * t737 * t969) * t16)) * t582;
cg[4][0] = 0.0e0;
cg[4][1] = 0.0e0;
cg[4][2] = 0.0e0;
cg[4][3] = 0.0e0;
cg[4][4] = -(0.1e1 * t1006 * t4 - 0.10e1 * t1010 * t1011 * t632 + 0.10e1 * t1015 * t1016 - 0.5000000000e0 * t1019 * t1020 * t676) * t1036;
cg[4][5] = -(0.1e1 * t1040 * t4 - 0.10e1 * t1010 * t1011 * t797 + 0.10e1 * t1046 * t1016 - 0.5000000000e0 * t1019 * t1020 * t840) * t1036;
cg[4][6] = 0.0e0;
cg[4][7] = -(0.1e1 * t1056 * t4 - 0.10e1 * t1010 * t1011 * t937 + 0.10e1 * t1062 * t1016 - 0.10e1 * t1065 * t1020 * t953) * t1036;
cg[5][0] = 0.0e0;
cg[5][1] = 0.0e0;
cg[5][2] = 0.0e0;
cg[5][3] = 0.0e0;
cg[5][4] = (0.1000000000e1 * (-0.1e1 * t1006 * t16 - 0.10e1 * t1010 * t633 + 0.10e1 * t1015 * t1075 - 0.5000000000e0 * t1019 * t1078 * t676) * t616 * t129 * t1089 + 0.1000000000e1 * t1101 * t1102 * t1103 * t632 + 0.1000000000e1 * t1108 * t1110 * t1085 * t1102 * t507 * t45 * t138 + 0.1000000000e1 * t1108 * t129 * t1118 * t1102 * t507 * t7 + 0.5000000000e0 * t1125 * t1126 * t507 * t167 + 0.5000000000e0 * t1125 * t1102 * t508 * t676) * t1148;
cg[5][5] = (0.1000000000e1 * (-0.1e1 * t1040 * t16 - 0.10e1 * t1010 * t798 + 0.10e1 * t1046 * t1075 - 0.5000000000e0 * t1019 * t1078 * t840) * t616 * t129 * t1089 + 0.1000000000e1 * t1101 * t1102 * t1103 * t797 + 0.1000000000e1 * t1108 * t1110 * t1088 * t45 * t16 + 0.1000000000e1 * t1125 * t1141 * t80 * t507 * t9 + 0.5000000000e0 * t1125 * t1126 * t507 * t245 + 0.5000000000e0 * t1125 * t1102 * t508 * t840) * t1148;
cg[5][6] = 0.0e0;
cg[5][7] = (0.1000000000e1 * (-0.1e1 * t1056 * t16 - 0.10e1 * t1010 * t938 + 0.10e1 * t1062 * t1075 - 0.10e1 * t1065 * t1078 * t953) * t616 * t129 * t1089 + 0.1000000000e1 * t1101 * t1102 * t1103 * t937 + 0.1000000000e1 * t1125 * t1102 * t512 * t953) * t1148;</Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">#
# unit vector and bearings
#</Text-field></Input></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">bearingsToUnitVector := proc(b::Vector(2))::Vector(3);</Text-field></Input><Input><Text-field prompt="&gt; " style="Maple Input">Vector([cos(b[2])*cos(b[1]), cos(b[2])*sin(b[1]), -sin(b[2])]);</Text-field></Input><Input><Text-field prompt="&gt; " style="Maple Input">end proc;</Text-field></Input><Output><Text-field layout="Maple Output" style="2D Output"><Equation style="2D Output">NiM+STViZWFyaW5nc1RvVW5pdFZlY3Rvckc2ImYrNiMnSSJiR0YlLUknVmVjdG9yRzYkSSpwcm90ZWN0ZWRHRi1JKF9zeXNsaWJHRiU2IyIiI0YlRiVGJS1GKzYjNyUqJi1JJGNvc0dGLDYjJjkkRi8iIiItRjY2IyZGOTYjRjpGOiomRjVGOi1JJHNpbkdGLEY8RjosJC1GQUY3ISIiRiVGJUYlLUYrNiMiIiQ=</Equation></Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">bearingsToUnitVector(&lt;0,0&gt;);</Text-field></Input><Output><Text-field layout="Maple Output" style="2D Output"><Equation style="2D Output">NiMtSSdSVEFCTEVHNiI2JSIqLy5HZSItSSdNQVRSSVhHRiU2IzclNyMiIiI3IyIiIUYuJkknVmVjdG9yRzYkSSpwcm90ZWN0ZWRHRjNJKF9zeXNsaWJHRiU2I0knY29sdW1uR0Yl</Equation></Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">bearingsToUnitVectorJac:=Jacobian(bearingsToUnitVector(&lt;theta,phi&gt;),[theta,phi]);</Text-field></Input><Output><Text-field layout="Maple Output" style="2D Output"><Equation style="2D Output">NiM+SThiZWFyaW5nc1RvVW5pdFZlY3RvckphY0c2Ii1JJ1JUQUJMRUdGJTYlIionKilmJGUiLUknTUFUUklYR0YlNiM3JTckLCQqJi1JJGNvc0c2JEkqcHJvdGVjdGVkR0Y0SShfc3lzbGliR0YlNiNJJHBoaUdGJSIiIi1JJHNpbkdGMzYjSSZ0aGV0YUdGJUY4ISIiLCQqJi1GOkY2RjgtRjJGO0Y4Rj03JComRjFGOEZBRjgsJComRkBGOEY5RjhGPTckIiIhLCRGMUY9SSdNYXRyaXhHRjM=</Equation></Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">C(bearingsToUnitVectorJac, optimize);</Text-field></Input><Output><Text-field layout="Normal" style="Line Printed Output">t1 = cos(phi);
t2 = sin(theta);
t4 = sin(phi);
t5 = cos(theta);
cg2[0][0] = -t1 * t2;
cg2[0][1] = -t4 * t5;
cg2[1][0] = t1 * t5;
cg2[1][1] = -t4 * t2;
cg2[2][0] = 0.0e0;
cg2[2][1] = -t1;</Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">unitVectorToBearings := proc(u::Vector(3))::Vector(2);</Text-field></Input><Input><Text-field prompt="&gt; " style="Maple Input">Vector([arctan(u[2], u[1]), -arctan(u[3],sqrt(u[1]*u[1]+u[2]*u[2]))]);</Text-field></Input><Input><Text-field prompt="&gt; " style="Maple Input">end proc;</Text-field></Input><Output><Text-field layout="Maple Output" style="2D Output"><Equation style="2D Output">NiM+STV1bml0VmVjdG9yVG9CZWFyaW5nc0c2ImYrNiMnSSJ1R0YlLUknVmVjdG9yRzYkSSpwcm90ZWN0ZWRHRi1JKF9zeXNsaWJHRiU2IyIiJEYlRiVGJS1GKzYjNyQtSSdhcmN0YW5HRiU2JCY5JDYjIiIjJkY4NiMiIiIsJC1GNTYkJkY4Ri8tSSVzcXJ0R0YsNiMsJiomRjtGPUY7Rj1GPSomRjdGPUY3Rj1GPSEiIkYlRiVGJS1GK0Y5</Equation></Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">unitVectorToBearings(&lt;0,0,1&gt;);</Text-field></Input><Output><Text-field layout="Maple Output" style="2D Output"><Equation style="2D Output">NiMtSSdSVEFCTEVHNiI2JSIqQy9HZSItSSdNQVRSSVhHRiU2IzckNyMiIiE3IywkSSNQaUdJKnByb3RlY3RlZEdGMSMhIiIiIiMmSSdWZWN0b3JHNiRGMUkoX3N5c2xpYkdGJTYjSSdjb2x1bW5HRiU=</Equation></Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">unitVectorToBearingsJac:=Jacobian(unitVectorToBearings(&lt;x,y,z&gt;),[x,y,z]);</Text-field></Input><Output><Text-field layout="Maple Output" style="2D Output"><Equation style="2D Output">NiM+STh1bml0VmVjdG9yVG9CZWFyaW5nc0phY0c2Ii1JJ1JUQUJMRUdGJTYlIipjMlBlIi1JJ01BVFJJWEdGJTYjNyQ3JSwkKihJInlHRiUiIiJJInhHRiUhIiMsJkYyRjIqJkYxIiIjRjNGNEYyISIiRjgqJkYzRjhGNUY4IiIhNyUqKkkiekdGJUYyLCYqJEYzRjdGMiokRjFGN0YyIyEiJEY3RjNGMiwmRjJGMiomRj1GN0Y+RjhGMkY4KipGPUYyRj5GQUYxRjJGQ0Y4LCQqJkY+I0Y4RjdGQ0Y4RjhJJ01hdHJpeEc2JEkqcHJvdGVjdGVkR0ZLSShfc3lzbGliR0Yl</Equation></Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input">C(unitVectorToBearingsJac,optimize,deducetypes=false);</Text-field></Input><Output><Text-field layout="Normal" style="Line Printed Output">t1 = x * x;
t2 = 0.1e1 / t1;
t4 = y * y;
t7 = 0.1e1 / (0.1e1 + t4 * t2);
t11 = t1 + t4;
t12 = sqrt(t11);
t15 = z / t12 / t11;
t16 = z * z;
t20 = 0.1e1 / (0.1e1 + t16 / t11);
cg5[0][0] = -y * t2 * t7;
cg5[0][1] = 0.1e1 / x * t7;
cg5[0][2] = 0.0e0;
cg5[1][0] = t15 * x * t20;
cg5[1][1] = t15 * y * t20;
cg5[1][2] = -0.1e1 / t12 * t20;</Text-field></Output></Group><Group><Input><Text-field layout="Normal" prompt="&gt; " style="Maple Input"/></Input></Group><Text-field/><Text-field/><Text-field/><Text-field/><Text-field/><Text-field/><Text-field/><Text-field/><Text-field/><Text-field/><Text-field/><Text-field/><Text-field/><Text-field/><Text-field/><Text-field/><RTable handle="158291816" >TTdSMApJNlJUQUJMRV9TQVZFLzE1ODI5MTgxNlgsJSlhbnl0aGluZ0c2IjYiW2dsISIlISEhIzEiJSIlLCQqJi0lJGNvc0c2IyUkeWF3RyIiIi1GCio2IyUmcGl0Y2hHRi0kIiM1ISIiLCQqJi0lJHNpbkdGK0YtRi5GLUYxLCQtRjdGLyQhJCsiISIjJCIiIUY+LCYqKEYpRi1GOUYtLUY3NiMKJSVyb2xsR0YtRi0qJkY2Ri0tRipGQkYtJCEjNUYzLCYqKEY2Ri1GOUYtRkFGLUYtKiZGKUYtRkVGLUYxLCQqJkYuRi1GQUYtRjFGPSwmKgooRilGLUY5Ri1GRUYtRi0qJkY2Ri1GQUYtRjEsJiooRjZGLUY5Ri1GRUYtRi0qJkYpRi1GQUYtRkYsJComRi5GLUZFRi1GMUY9JSJ4RyUiCnlHJSJ6R0YxNiIK</RTable><RTable handle="158278864" >TTdSMApJNlJUQUJMRV9TQVZFLzE1ODI3ODg2NFgqJSlhbnl0aGluZ0c2IjYiW2dsISMlISEhIiciJyUieEclInlHJSJ6Ry0lJ2FyY3Rhbkc2JCwkCiomLSUkc2luRzYjJSR5YXdHIiIiLSUkY29zRzYjJSZwaXRjaEdGMyQiKysrKys1ISIqLCQqJi1GNUYxRjNGNEYzRjgtJSdhcmNzaW5HNiMKLCQtRjBGNiQiJCsiISIjLUYrNiQsJComRjRGMy1GMDYjJSVyb2xsR0YzRjgsJComRjRGMy1GNUZLRjNGODYiCg==</RTable><RTable handle="158305508" >TTdSMApJNlJUQUJMRV9TQVZFLzE1ODMwNTUwOFgsJSlhbnl0aGluZ0c2IjYiW2dsISIlISEhIzEiJSIlLCQqJi0lJGNvc0c2IyUkeWF3RyIiIi1GCio2IyUmcGl0Y2hHRi0kIiM1ISIiLCYqKEYpRi0tJSRzaW5HRi9GLS1GNzYjJSVyb2xsR0YtRi0qJi1GN0YrRi0tRipGOUYtJCEjNUYzLCYKKihGKUYtRjZGLUY9Ri1GLSomRjxGLUY4Ri1GMSQiIiFGRCwkKiZGPEYtRi5GLUYxLCYqKEY8Ri1GNkYtRjhGLUYtKiZGKUYtRj1GLUYxLAomKihGPEYtRjZGLUY9Ri1GLSomRilGLUY4Ri1GPkZDLCRGNiQhJCsiISIjLCQqJkYuRi1GOEYtRjEsJComRi5GLUY9Ri1GMUZDLCgqKEYpCkYtRi5GLSUieEdGLUY+KihGPEYtRi5GLSUieUdGLUY+KiZGNkYtJSJ6R0YtJCIkKyJGUCwoKiZGNEYtRldGLUYzKiZGR0YtRllGLUYzKigKRi5GLUY4Ri1GZW5GLUY+LCgqJkZARi1GV0YtRjMqJkZKRi1GWUYtRjMqKEYuRi1GPUYtRmVuRi1GPkYxNiIK</RTable><RTable handle="158278984" >TTdSMApJNlJUQUJMRV9TQVZFLzE1ODI3ODk4NFgqJSlhbnl0aGluZ0c2IjYiW2dsISMlISEhIiciJyQiM0ArKytgOy9dKiohIz0kIjNrKysrbDtNCiQpKiohIz4kIiIhRi4kIisrKysrNSEjNSQhIiFGLkYtNiIK</RTable><RTable handle="158279064" >TTdSMApJNlJUQUJMRV9TQVZFLzE1ODI3OTA2NFgqJSlhbnl0aGluZ0c2IjYiW2dsISMlISEhIiUiJSwqKigtJSRjb3NHNiMlJHlhd0ciIiItRio2CiMlJnBpdGNoR0YtJSR2X3hHRi0kIiM1ISIiKiYsJiooRilGLS0lJHNpbkdGL0YtLUY5NiMlJXJvbGxHRi1GLSomLUY5RitGLS1GKkY7Ri0KJCEjNUY0Ri0lJHZfeUdGLUYtKiYsJiooRilGLUY4Ri1GP0YtRi0qJkY+Ri1GOkYtRjJGLSUkdl96R0YtRi0qJiUieEdGLSUiaEdGLUYtLAoqKihGPkYtRi5GLUYxRi1GMiomLCYqKEY+Ri1GOEYtRjpGLUYtKiZGKUYtRj9GLUYyRi1GQkYtRi0qJiwmKihGPkYtRjhGLUY/Ri1GLSomCkYpRi1GOkYtRkBGLUZHRi1GLSomJSJ5R0YtRkpGLUYtLCoqJkY4Ri1GMUYtJCEkKyIhIiMqKEYuRi1GOkYtRkJGLUYyKihGLkYtRj9GLUYKR0YtRjIqJiUiekdGLUZKRi1GLSwkRkpGMjYiCg==</RTable><RTable handle="158321136" >TTdSMApJNlJUQUJMRV9TQVZFLzE1ODMyMTEzNlgsJSlhbnl0aGluZ0c2IjYiW2dsISIlISEhIzwiJCIqIiIiIiIhRihGKEYnRihGKEYoRicsKCooCi0lJHNpbkc2IyUkeWF3R0YnLSUkY29zRzYjJSZwaXRjaEdGJyUkdl94R0YnJCEjNSEiIiomLCYqKEYrRictRixGMUYnLUYsNiMlJXJvbGwKR0YnRjYqJi1GMEYtRictRjBGPEYnRjRGJyUkdl95R0YnRicqJiwmKihGK0YnRjpGJ0ZARidGNiomRj9GJ0Y7RickIiM1RjZGJyUkdl96RwpGJ0YnLCgqKEY/RidGL0YnRjNGJ0ZGKiYsJiooRj9GJ0Y6RidGO0YnRicqJkYrRidGQEYnRjRGJ0ZBRidGJyomLCYqKEY/RidGOkYnRkBGCidGJyomRitGJ0Y7RidGRkYnRkhGJ0YnRigsKCooRj9GJ0Y6RidGM0YnRjQqKkY/RidGL0YnRjtGJ0ZBRidGJyoqRj9GJ0YvRidGQEYnRkgKRidGJywoKihGK0YnRjpGJ0YzRidGNCoqRitGJ0YvRidGO0YnRkFGJ0YnKipGK0YnRi9GJ0ZARidGSEYnRicsKComRi9GJ0YzRickISQrIgohIiMqKEY6RidGO0YnRkFGJ0Y0KihGOkYnRkBGJ0ZIRidGNCwmKiZGUEYnRkFGJ0YnKiYsJkZNRjZGTkZGRidGSEYnRicsJiomLCZGREYnCkZFRjRGJ0ZBRidGJyomRjhGJ0ZIRidGJywmKihGL0YnRkBGJ0ZBRidGRiooRi9GJ0Y7RidGSEYnRjQsJComRj9GJ0YvRidGRiwkKiZGK0YKJ0YvRidGRiwkRjpGZ25GTCwmRjlGJ0Y+RkYsJComRi9GJ0Y7RidGRkZQRmJvLCQqJkYvRidGQEYnRkY2Igo=</RTable><RTable handle="158328924" >TTdSMApJNlJUQUJMRV9TQVZFLzE1ODMyODkyNFgsJSlhbnl0aGluZ0c2IjYiW2dsISIlISEhIzwiJCIqIiIhRidGJ0YnRidGJ0YnRidGJywoKigtCiUkc2luRzYjJSR5YXdHIiIiLSUkY29zRzYjJSZwaXRjaEdGLiUkdl94R0YuJCEjNSEiIiomLCYqKEYqRi4tRitGMUYuLUYrNiMlJXJvbGwKR0YuRjYqJi1GMEYsRi4tRjBGPEYuRjRGLiUkdl95R0YuRi4qJiwmKihGKkYuRjpGLkZARi5GNiomRj9GLkY7Ri4kIiM1RjZGLiUkdl96RwpGLkYuLCgqKEY/Ri5GL0YuRjNGLkZGKiYsJiooRj9GLkY6Ri5GO0YuRi4qJkYqRi5GQEYuRjRGLkZBRi5GLiomLCYqKEY/Ri5GOkYuRkBGCi5GLiomRipGLkY7Ri5GRkYuRkhGLkYuRicsKCooRj9GLkY6Ri5GM0YuRjQqKkY/Ri5GL0YuRjtGLkZBRi5GLioqRj9GLkYvRi5GQEYuRkgKRi5GLiwoKihGKkYuRjpGLkYzRi5GNCoqRipGLkYvRi5GO0YuRkFGLkYuKipGKkYuRi9GLkZARi5GSEYuRi4sKComRi9GLkYzRi4kISQrIgohIiMqKEY6Ri5GO0YuRkFGLkY0KihGOkYuRkBGLkZIRi5GNCwmKiZGUEYuRkFGLkYuKiYsJkZNRjZGTkZGRi5GSEYuRi4sJiomLCZGREYuCkZFRjRGLkZBRi5GLiomRjhGLkZIRi5GLiwmKihGL0YuRkBGLkZBRi5GRiooRi9GLkY7Ri5GSEYuRjQsJComRj9GLkYvRi5GRiwkKiZGKkYKLkYvRi5GRiwkRjpGZ25GTCwmRjlGLkY+RkYsJComRi9GLkY7Ri5GRkZQRmJvLCQqJkYvRi5GQEYuRkY2Igo=</RTable><RTable handle="158279664" >TTdSMApJNlJUQUJMRV9TQVZFLzE1ODI3OTY2NFgqJSlhbnl0aGluZ0c2IjYiW2dsISMlISEhIiQiJCwqKigtJSRjb3NHNiMlJHlhd0ciIiItRio2CiMlJnBpdGNoR0YtJSR2X3hHRi0kIiM1ISIiKigtJSRzaW5HRitGLUYuRi0lJHZfeUdGLUYyKiYtRjdGL0YtJSR2X3pHRi0kISQrIiEiIyoKJiwoKihGKUYtRi5GLSUieEdGLSQhIzVGNCooRjZGLUYuRi0lInlHRi1GQyomRjpGLSUiekdGLSQiJCsiRj5GLSUiaEdGLUYtLCoqJiwmKgooRilGLUY6Ri0tRjc2IyUlcm9sbEdGLUYtKiZGNkYtLUYqRlFGLUZDRi1GMUYtRi0qJiwmKihGNkYtRjpGLUZQRi1GLSomRilGLUZURi1GCjJGLUY4Ri1GLSooRi5GLUZQRi1GO0YtRjIqJiwoKiZGTkYtRkJGLUY0KiZGVkYtRkZGLUY0KihGLkYtRlBGLUZIRi1GQ0YtRktGLUYtLCoKKiYsJiooRilGLUY6Ri1GVEYtRi0qJkY2Ri1GUEYtRjJGLUYxRi1GLSomLCYqKEY2Ri1GOkYtRlRGLUYtKiZGKUYtRlBGLUZDRi1GOEYtRgotKihGLkYtRlRGLUY7Ri1GMiomLCgqJkZbb0YtRkJGLUY0KiZGX29GLUZGRi1GNCooRi5GLUZURi1GSEYtRkNGLUZLRi1GLTYiCg==</RTable><RTable handle="158279864" >TTdSMApJNlJUQUJMRV9TQVZFLzE1ODI3OTg2NFgqJSlhbnl0aGluZ0c2IjYiW2dsJyMlISEhIiQiJDQwMDUxMUZGRURCREQ0Rjg0MDE1NUQ1OTMwCjE2OEI0ODAwMDAwMDAwMDAwMDAwMDA2Igo=</RTable><RTable handle="158341896" >TTdSMApJNlJUQUJMRV9TQVZFLzE1ODM0MTg5NlgsJSlhbnl0aGluZ0c2IjYiW2dsISIlISEhIzwiJCIqIiIhRidGJ0YnRidGJ0YnRidGJywmKigtCiUkc2luRzYjJSR5YXdHIiIiLSUkY29zRzYjJSZwaXRjaEdGLiUkdl94R0YuJCEjNSEiIiooLUYwRixGLkYvRi4lJHZfeUdGLiQiIzVGNiwKJiomLCYqKEYqRi4tRitGMUYuLUYrNiMlJXJvbGxHRi5GNiomRjhGLi1GMEZCRi5GNEYuRjNGLkYuKiYsJiooRjhGLkZARi5GQUYuRi4qJgpGKkYuRkVGLkY0Ri5GOUYuRi4sJiomLCYqKEYqRi5GQEYuRkVGLkY2KiZGOEYuRkFGLkY6Ri5GM0YuRi4qJiwmKihGOEYuRkBGLkZFRi5GCi4qJkYqRi5GQUYuRjpGLkY5Ri5GLiwoKihGOEYuRkBGLkYzRi5GNCooRipGLkZARi5GOUYuRjQqJkYvRi4lJHZfekdGLiQhJCsiISIjLCgKKipGOEYuRi9GLkZBRi5GM0YuRi4qKkYqRi5GL0YuRkFGLkY5Ri5GLiooRkBGLkZBRi5GV0YuRjQsKCoqRjhGLkYvRi5GRUYuRjNGLkYuKgoqRipGLkYvRi5GRUYuRjlGLkYuKihGQEYuRkVGLkZXRi5GNEYnLCgqJkZQRi5GM0YuRi4qJiwmRk1GLkZORjRGLkY5Ri5GLiooRi9GLkZFCkYuRldGLkY6LCgqJiwmRkhGNkZJRjpGLkYzRi5GLiomRj5GLkY5Ri5GLiooRi9GLkZBRi5GV0YuRjQsJComRjhGLkYvRi5GOkZHRlAsJCoKJkYqRi5GL0YuRjosJkY/Ri5GREY6RmBvLCRGQEZYLCQqJkYvRi5GQUYuRjosJComRi9GLkZFRi5GOjYiCg==</RTable><RTable handle="158280144" >TTdSMApJNlJUQUJMRV9TQVZFLzE1ODI4MDE0NFgqJSlhbnl0aGluZ0c2IjYiW2dsISMlISEhIiciJyQiIiIiIiEkRilGKUYqRiokISIhRilGKjYiCg==</RTable><RTable handle="158280224" >TTdSMApJNlJUQUJMRV9TQVZFLzE1ODI4MDIyNFgqJSlhbnl0aGluZ0c2IjYiW2dsISMlISEhIiciJyQhMzMrKyszUS5ePyEjRiQhIiIiIiEkRixGCiwkISszUS5ePyEjPiQhIiFGLEYtNiIK</RTable><RTable handle="158280304" >TTdSMApJNlJUQUJMRV9TQVZFLzE1ODI4MDMwNFgqJSlhbnl0aGluZ0c2IjYiW2dsISMlISEhIiQiJCIiIiIiIUYoNiIK</RTable><RTable handle="158359896" >TTdSMApJNlJUQUJMRV9TQVZFLzE1ODM1OTg5NlgsJSlhbnl0aGluZ0c2IjYiW2dsISIlISEhIyciJCIjLCQqJi0lJGNvc0c2IyUkcGhpRyIiIi0lCiRzaW5HNiMlJnRoZXRhR0YtISIiKiZGKUYtLUYqRjBGLSIiISwkKiYtRi9GK0YtRjRGLUYyLCQqJkY4Ri1GLkYtRjIsJEYpRjI2Igo=</RTable><RTable handle="158280424" >TTdSMApJNlJUQUJMRV9TQVZFLzE1ODI4MDQyNFgqJSlhbnl0aGluZ0c2IjYiW2dsISMlISEhIiMiIyIiISwkJSNQaUcjISIiIiIjNiIK</RTable><RTable handle="158370756" >TTdSMApJNlJUQUJMRV9TQVZFLzE1ODM3MDc1NlgsJSlhbnl0aGluZ0c2IjYiW2dsISIlISEhIyciIyIkLCQqKCUieUciIiIlInhHISIjLCZGKkYqCiomRikiIiNGK0YsRiohIiJGMCoqJSJ6R0YqLCYqJEYrRi9GKiokRilGL0YqIyEiJEYvRitGKiwmRipGKiomRjJGL0YzRjBGKkYwKiZGK0YKMEYtRjAqKkYyRipGM0Y2RilGKkY4RjAiIiEsJComRjMjRjBGL0Y4RjBGMDYiCg==</RTable></Worksheet>