#!/bin/sh

# $Id$ #
set -e

mv $1 ${1}_tmp
svn mkdir -m"new module !" svn+ssh://$USER@pollux.laas.fr/svn/jafar/jafarModules/trunk/${1}
svn co svn+ssh://$USER@pollux.laas.fr/svn/jafar/jafarModules/trunk/${1} $1
mv ${1}_tmp/* $1
rm -rf ${1}_tmp

cd $1
svn add -N COPYRIGHT Makefile README User.make doc include macro src test_suite
svn ps svn:keywords Id COPYRIGHT Makefile README User.make
cd doc/
svn add *.doxy 
svn add *.tcl 
svn add *.hpp 
svn add *.tpp 
svn add *.cpp 
svn ps svn:keywords Id *.doxy 
svn ps svn:keywords Id *.tcl 
svn ps svn:keywords Id *.hpp 
svn ps svn:keywords Id *.tpp 
svn ps svn:keywords Id *.cpp
cd ../include
svn add *.i
svn ps svn:keywords Id *.i
svn add -N $1
cd $1
svn add *.hpp 
svn add *.tpp 
svn add *.h 
svn add *.i
svn ps svn:keywords Id *.hpp 
svn ps svn:keywords Id *.tpp 
svn ps svn:keywords Id *.h 
svn ps svn:keywords Id *.i
cd ../../macro
svn add *.tcl
svn add *.rb
svn ps svn:keywords Id *.tcl *.rb
cd ../src
svn add *.cpp 
svn add *.c
svn ps svn:keywords Id *.cpp 
svn ps svn:keywords Id *.c
svn propset svn:ignore 'kernel_wrap.cpp' ruby/
cd ../test_suite
svn add *.cpp
svn ps svn:keywords Id *.cpp
svn add *.hpp
svn ps svn:keywords Id *.hpp

echo "\nDo not forget to commit these changes !"
